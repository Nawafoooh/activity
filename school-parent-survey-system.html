<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø³ØªØ¨ÙŠØ§Ù† ØªÙ‚ÙŠÙŠÙ… Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ± - Ù…Ø¹ Firebase</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="white" opacity="0.1"/><circle cx="80" cy="40" r="1.5" fill="white" opacity="0.1"/><circle cx="40" cy="80" r="1" fill="white" opacity="0.1"/></svg>');
        }
        
        .school-logo {
            width: 80px;
            height: 80px;
            background: #3498db;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: white;
            position: relative;
            z-index: 1;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .form-content {
            padding: 40px;
        }
        
        .intro {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 25px;
            border-radius: 15px;
            margin-bottom: 30px;
            border-right: 5px solid #3498db;
        }
        
        .intro h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 20px;
        }
        
        .section {
            margin-bottom: 40px;
            border: 1px solid #e1e8ed;
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .section:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }
        
        .section-header {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            padding: 20px;
            font-size: 18px;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .section-icon {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .section-content {
            padding: 25px;
            background: #fafbfc;
        }
        
        .question {
            margin-bottom: 25px;
            padding: 20px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        
        .question:hover {
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .question-text {
            font-size: 16px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .rating-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .rating-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .rating-circle {
            width: 40px;
            height: 40px;
            border: 2px solid #bdc3c7;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            font-weight: bold;
            color: #7f8c8d;
        }
        
        .rating-circle:hover {
            border-color: #3498db;
            background: #3498db;
            color: white;
            transform: scale(1.1);
        }
        
        .rating-circle.selected {
            border-color: #27ae60;
            background: #27ae60;
            color: white;
        }
        
        .text-input {
            width: 100%;
            min-height: 80px;
            padding: 15px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 14px;
            font-family: inherit;
            resize: vertical;
            transition: border-color 0.3s ease;
        }
        
        .text-input:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }
        
        .multiple-choice {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .choice-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            background: #f8f9fa;
            border: 2px solid transparent;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .choice-option:hover {
            background: #e9ecef;
            border-color: #3498db;
        }
        
        .choice-option.selected {
            background: #e8f5e8;
            border-color: #27ae60;
        }
        
        .choice-radio {
            width: 20px;
            height: 20px;
            border: 2px solid #bdc3c7;
            border-radius: 50%;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .choice-option.selected .choice-radio {
            border-color: #27ae60;
            background: #27ae60;
        }
        
        .choice-option.selected .choice-radio::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 8px;
            height: 8px;
            background: white;
            border-radius: 50%;
        }
        
        .submit-section {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(39, 174, 96, 0.3);
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(39, 174, 96, 0.4);
        }
        
        .submit-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            transform: none;
        }
        
        .progress-bar {
            height: 6px;
            background: #e1e8ed;
            border-radius: 3px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 3px;
        }
        
        .progress-text {
            text-align: center;
            font-size: 14px;
            color: #7f8c8d;
            margin-top: 10px;
        }
        
        .loading {
            display: none;
            text-align: center;
            padding: 20px;
        }
        
        .loading.show {
            display: block;
        }
        
        .success-message {
            display: none;
            background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            text-align: center;
        }
        
        .success-message.show {
            display: block;
        }
        
        .error-message {
            display: none;
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-top: 20px;
            text-align: center;
        }
        
        .error-message.show {
            display: block;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .form-content {
                padding: 20px;
            }
            
            .rating-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .rating-circle {
                width: 35px;
                height: 35px;
                font-size: 14px;
            }
            
            .section-header {
                font-size: 16px;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="school-logo">ğŸ«</div>
            <h1>Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ù…Ù†Ø°Ø± Ø¨Ù† Ø¹Ù…Ø±Ùˆ Ø§Ù„Ø£Ù†ØµØ§Ø±ÙŠ </h1>
            <p>Ø§Ø³ØªØ¨ÙŠØ§Ù† ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ù…Ù† ÙˆØ¬Ù‡Ø© Ù†Ø¸Ø± Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±</p>
        </div>
        
        <div class="form-content">
            <div class="intro">
                <h3>ğŸ¯ Ø£Ø¹Ø²Ø§Ø¡Ù†Ø§ Ø£ÙˆÙ„ÙŠØ§Ø¡ Ø§Ù„Ø£Ù…ÙˆØ±</h3>
                <p>Ù†Ù‚Ø¯Ø± Ø«Ù‚ØªÙƒÙ… ÙˆÙ…Ø´Ø§Ø±ÙƒØªÙƒÙ… ÙÙŠ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©. Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù† ÙŠÙ‡Ø¯Ù Ù„Ø¬Ù…Ø¹ Ø¢Ø±Ø§Ø¦ÙƒÙ… Ø­ÙˆÙ„ ØªØ¬Ø±Ø¨Ø© Ø£Ø¨Ù†Ø§Ø¦ÙƒÙ… Ø®Ù„Ø§Ù„ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ù†ØµØ±Ù….</p>
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin: 20px 0; border-right: 4px solid #3498db;">
                    <h4 style="color: #2c3e50; margin-bottom: 15px;">ğŸ“ Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ù…Ù‡Ù…Ø© Ù„Ù„ØªØ¹Ø¨Ø¦Ø©:</h4>
                    <ul style="margin: 0; padding-right: 20px; line-height: 1.8; color: #34495e;">
                        <li><strong>Ø§Ù„ØµØ¯Ù‚ ÙˆØ§Ù„Ù…ÙˆØ¶ÙˆØ¹ÙŠØ©:</strong> Ø£Ø¬Ø¨ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙˆØ§Ù‚Ø¹ Ø§Ø¨Ù†Ùƒ Ø®Ù„Ø§Ù„ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ø§Ø¶ÙŠ ÙÙ‚Ø·</li>
                        <li><strong>Ø§Ø¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ù…Ø§ ÙŠÙ†Ù‚Ù„Ù‡ Ø§Ø¨Ù†Ùƒ:</strong> Ø±ÙƒØ² Ø¹Ù„Ù‰ ØªØ¬Ø§Ø±Ø¨Ù‡ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© ÙˆÙ…Ø§ ØªÙ„Ø§Ø­Ø¸Ù‡ ÙÙŠ Ø§Ù„Ù…Ù†Ø²Ù„</li>
                        <li><strong>ØªØ¬Ù†Ø¨ Ø§Ù„Ø¹Ù…ÙˆÙ…ÙŠØ§Øª:</strong> Ø¥Ø¬Ø§Ø¨Ø§Øª Ù…Ø­Ø¯Ø¯Ø© Ø£ÙØ¶Ù„ Ù…Ù† "Ù…Ù…ØªØ§Ø²" Ø£Ùˆ "Ø³ÙŠØ¡" ÙÙ‚Ø·</li>
                        <li><strong>Ø³Ø±ÙŠØ© ØªØ§Ù…Ø©:</strong> Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ Ø³Ø±ÙŠØ© ÙˆÙ„Ù† ØªØ¤Ø«Ø± Ø¹Ù„Ù‰ Ø§Ø¨Ù†ÙƒØŒ Ù‡Ø¯ÙÙ‡Ø§ Ø§Ù„ØªØ·ÙˆÙŠØ± ÙÙ‚Ø·</li>
                        <li><strong>Ø§Ù‚ØªØ±Ø­ Ø­Ù„ÙˆÙ„:</strong> Ø¹Ù†Ø¯ Ø°ÙƒØ± Ù…Ø´ÙƒÙ„Ø©ØŒ Ø´Ø§Ø±ÙƒÙ†Ø§ Ù…Ù‚ØªØ±Ø­Ø§Ù‹ Ù„Ù„ØªØ­Ø³ÙŠÙ† Ø¥Ù† Ø£Ù…ÙƒÙ†</li>
                    </ul>
                </div>
                
                <p><strong>â±ï¸ ÙˆÙ‚Øª Ø§Ù„ØªØ¹Ø¨Ø¦Ø©:</strong> 8-10 Ø¯Ù‚Ø§Ø¦Ù‚ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹</p>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="progress-text" id="progressText">0% Ù…ÙƒØªÙ…Ù„</div>

            <form id="parentSurvey">
                <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨ -->
                <div class="section">
                    <div class="section-header">
                        <div class="section-icon">ğŸ‘¤</div>
                        Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨
                    </div>
                    <div class="section-content">
                        <div class="question">
                            <div class="question-text">
                                Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
                            </div>
                            <input type="text" name="studentName" class="text-input" style="min-height: 50px;" placeholder="ÙŠÙ…ÙƒÙ†Ùƒ ÙƒØªØ§Ø¨Ø© Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ Ø£Ùˆ ØªØ±ÙƒÙ‡ ÙØ§Ø±ØºØ§Ù‹ Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø®ØµÙˆØµÙŠØ©">
                        </div>

                        <div class="question">
                            <div class="question-text">
                                ØµÙ Ø§Ù„Ø·Ø§Ù„Ø¨
                            </div>
                            <div class="multiple-choice">
                                <div class="choice-option" onclick="selectChoice(this)" data-value="1">
                                    <div class="choice-radio"></div>
                                    <span>Ø§Ù„Ø£ÙˆÙ„ Ø§Ù„Ù…ØªÙˆØ³Ø·</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="2">
                                    <div class="choice-radio"></div>
                                    <span>Ø§Ù„Ø«Ø§Ù†ÙŠ Ø§Ù„Ù…ØªÙˆØ³Ø·</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="3">
                                    <div class="choice-radio"></div>
                                    <span>Ø§Ù„Ø«Ø§Ù„Ø« Ø§Ù„Ù…ØªÙˆØ³Ø·</span>
                                </div>
                            </div>
                            <input type="hidden" name="studentGrade" value="">
                        </div>
                    </div>
                </div>

                <!-- Ø§Ù„ØªØ­ØµÙŠÙ„ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ -->
                <div class="section">
                    <div class="section-header">
                        <div class="section-icon">ğŸ“š</div>
                        Ø§Ù„ØªØ­ØµÙŠÙ„ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ (ÙƒÙ…Ø§ ÙŠÙ†Ø¹ÙƒØ³ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø§Ù„Ø¨ ÙÙŠ Ø§Ù„Ù…Ù†Ø²Ù„)
                    </div>
                    <div class="section-content">
                        <div class="question">
                            <div class="question-text">
                                Ù‡Ù„ ÙŠØªØ­Ø¯Ø« Ø§Ø¨Ù†Ùƒ Ù…Ø¹Ùƒ ÙÙŠ Ø§Ù„Ù…Ù†Ø²Ù„ Ø¹Ù† ÙÙ‡Ù…Ù‡ Ù„Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© Ø£Ù… ÙŠØ´ÙƒÙˆ Ù…Ù† ØµØ¹ÙˆØ¨ØªÙ‡Ø§ØŸ (ÙŠØ´Ù…Ù„ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¯Ø§ÙØ¹ÙŠØ© ÙˆØ§Ù„Ø­Ù…Ø§Ø³)
                            </div>
                            <div class="multiple-choice">
                                <div class="choice-option" onclick="selectChoice(this)" data-value="4">
                                    <div class="choice-radio"></div>
                                    <span>ÙŠØªØ­Ø¯Ø« Ø¨Ø­Ù…Ø§Ø³ Ø¹Ù† ÙÙ‡Ù…Ù‡ Ù„Ù„Ù…ÙˆØ§Ø¯ ÙˆÙŠØ¸Ù‡Ø± Ø±ØºØ¨Ø© ÙÙŠ Ø§Ù„ØªØ¹Ù„Ù…</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="3">
                                    <div class="choice-radio"></div>
                                    <span>ÙŠØªØ­Ø¯Ø« Ø£Ø­ÙŠØ§Ù†Ø§Ù‹ ÙˆÙŠØ¸Ù‡Ø± ÙÙ‡Ù…Ø§Ù‹ Ø¬ÙŠØ¯Ø§Ù‹ Ù…Ø¹ Ø­Ù…Ø§Ø³ Ù…ØªÙˆØ³Ø·</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="2">
                                    <div class="choice-radio"></div>
                                    <span>Ù†Ø§Ø¯Ø±Ø§Ù‹ Ù…Ø§ ÙŠØªØ­Ø¯Ø« Ø¹Ù† Ø§Ù„Ù…ÙˆØ§Ø¯ Ø£Ùˆ ÙŠØ¸Ù‡Ø± Ø§Ù‡ØªÙ…Ø§Ù…Ø§Ù‹</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="1">
                                    <div class="choice-radio"></div>
                                    <span>ÙŠØ´ÙƒÙˆ Ù…Ù† ØµØ¹ÙˆØ¨Ø© Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆÙŠØ¨Ø¯ÙŠ Ø¹Ø¯Ù… Ø±ØºØ¨Ø© ÙÙŠ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</span>
                                </div>
                            </div>
                            <input type="hidden" name="academicMotivation" value="">
                        </div>

                        <div class="question">
                            <div class="question-text">
                                Ù…Ù‚Ø§Ø±Ù†Ø© Ø¨Ø§Ù„ÙØµÙ„ Ø§Ù„Ø³Ø§Ø¨Ù‚ØŒ Ù‡Ù„ ØªÙ„Ø§Ø­Ø¸ ØªØ­Ø³Ù†Ø§Ù‹ Ø£Ù… ØªØ±Ø§Ø¬Ø¹Ø§Ù‹ ÙÙŠ Ù…Ø³ØªÙˆÙ‰ Ø§Ø¨Ù†Ùƒ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØŸ
                            </div>
                            <div class="rating-container">
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 5)">5</div>
                                    <span style="font-size: 12px;">ØªØ­Ø³Ù† ÙƒØ¨ÙŠØ±</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 4)">4</div>
                                    <span style="font-size: 12px;">ØªØ­Ø³Ù† Ù…Ù„Ø­ÙˆØ¸</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 3)">3</div>
                                    <span style="font-size: 12px;">Ù†ÙØ³ Ø§Ù„Ù…Ø³ØªÙˆÙ‰</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 2)">2</div>
                                    <span style="font-size: 12px;">ØªØ±Ø§Ø¬Ø¹ Ø¨Ø³ÙŠØ·</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 1)">1</div>
                                    <span style="font-size: 12px;">ØªØ±Ø§Ø¬Ø¹ ÙˆØ§Ø¶Ø­</span>
                                </div>
                            </div>
                            <input type="hidden" name="academicImprovement" value="">
                        </div>

                        <div class="question">
                            <div class="question-text">
                                Ù‡Ù„ ÙƒÙ…ÙŠØ© Ø§Ù„ÙˆØ§Ø¬Ø¨Ø§Øª Ø§Ù„Ù…Ù†Ø²Ù„ÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø© Ø£Ù… ØªØ´ÙƒÙ„ Ø¶ØºØ·Ø§Ù‹ Ø¹Ù„Ù‰ Ø§Ø¨Ù†ÙƒØŸ
                            </div>
                            <div class="multiple-choice">
                                <div class="choice-option" onclick="selectChoice(this)" data-value="4">
                                    <div class="choice-radio"></div>
                                    <span>Ù…Ù†Ø§Ø³Ø¨Ø© ØªÙ…Ø§Ù…Ø§Ù‹ ÙˆÙŠØ¤Ø¯ÙŠÙ‡Ø§ Ø¨Ø³Ù‡ÙˆÙ„Ø©</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="3">
                                    <div class="choice-radio"></div>
                                    <span>Ù…Ù†Ø§Ø³Ø¨Ø© ÙÙŠ Ù…Ø¹Ø¸Ù… Ø§Ù„Ø£ÙŠØ§Ù…</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="2">
                                    <div class="choice-radio"></div>
                                    <span>ÙƒØ«ÙŠØ±Ø© Ø£Ø­ÙŠØ§Ù†Ø§Ù‹ ÙˆØªØ­ØªØ§Ø¬ ÙˆÙ‚Øª Ø£Ø·ÙˆÙ„</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="1">
                                    <div class="choice-radio"></div>
                                    <span>Ù…ÙØ±Ø·Ø© ÙˆØªØ³Ø¨Ø¨ ØªÙˆØªØ±Ø§Ù‹ Ù„Ù‡</span>
                                </div>
                            </div>
                            <input type="hidden" name="homeworkLoad" value="">
                        </div>
                    </div>
                </div>

                <!-- Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© -->
                <div class="section">
                    <div class="section-header">
                        <div class="section-icon">ğŸ›ï¸</div>
                        Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© (ÙƒÙ…Ø§ ÙŠÙ†Ø¹ÙƒØ³ Ø¹Ù„Ù‰ Ø´Ø¹ÙˆØ± Ø§Ù„Ø·Ø§Ù„Ø¨)
                    </div>
                    <div class="section-content">
                        <div class="question">
                            <div class="question-text">
                                ÙƒÙŠÙ ÙŠØ¨Ø¯Ùˆ Ø´Ø¹ÙˆØ± Ø§Ø¨Ù†Ùƒ ØªØ¬Ø§Ù‡ Ø§Ù„Ø°Ù‡Ø§Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹ØŸ
                            </div>
                            <div class="rating-container">
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 5)">ğŸ˜</div>
                                    <span style="font-size: 12px;">Ù…ØªØ­Ù…Ø³ Ø¬Ø¯Ø§Ù‹</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 4)">ğŸ˜Š</div>
                                    <span style="font-size: 12px;">Ù…Ø±ØªØ§Ø­</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 3)">ğŸ˜</div>
                                    <span style="font-size: 12px;">Ø·Ø¨ÙŠØ¹ÙŠ</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 2)">ğŸ˜</div>
                                    <span style="font-size: 12px;">Ù…ØªØ±Ø¯Ø¯</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 1)">ğŸ˜«</div>
                                    <span style="font-size: 12px;">Ù…ØªØ°Ù…Ø±</span>
                                </div>
                            </div>
                            <input type="hidden" name="schoolFeeling" value="">
                        </div>

                        <div class="question">
                            <div class="question-text">
                                Ù‡Ù„ ÙŠØ°ÙƒØ± Ù„Ùƒ Ø§Ø¨Ù†Ùƒ Ø£Ù† Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ† ÙŠØªØ¹Ø§Ù…Ù„ÙˆÙ† Ù…Ø¹Ù‡ Ø¨Ø§Ø­ØªØ±Ø§Ù… ÙˆØ¹Ø¯Ø§Ù„Ø©ØŸ
                            </div>
                            <div class="multiple-choice">
                                <div class="choice-option" onclick="selectChoice(this)" data-value="4">
                                    <div class="choice-radio"></div>
                                    <span>Ù†Ø¹Ù…ØŒ ÙŠØªØ­Ø¯Ø« Ø¨Ø¥Ø¹Ø¬Ø§Ø¨ Ø¹Ù† Ø£ØºÙ„Ø¨ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="3">
                                    <div class="choice-radio"></div>
                                    <span>ÙŠØ°ÙƒØ± Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ø§Ù„Ø¬ÙŠØ¯ ÙÙŠ Ù…Ø¹Ø¸Ù… Ø§Ù„Ù…ÙˆØ§Ù‚Ù</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="2">
                                    <div class="choice-radio"></div>
                                    <span>Ù„Ø§ ÙŠØªØ­Ø¯Ø« ÙƒØ«ÙŠØ±Ø§Ù‹ Ø¹Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="1">
                                    <div class="choice-radio"></div>
                                    <span>Ø£Ø­ÙŠØ§Ù†Ø§Ù‹ ÙŠØ´ÙƒÙˆ Ù…Ù† ØªØ¹Ø§Ù…Ù„ Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ø¹Ù„Ù…ÙŠÙ†</span>
                                </div>
                            </div>
                            <input type="hidden" name="teacherTreatment" value="">
                        </div>
                    </div>
                </div>

                <!-- Ø§Ù„ØªÙˆØ§ØµÙ„ -->
                <div class="section">
                    <div class="section-header">
                        <div class="section-icon">ğŸ“±</div>
                        Ø§Ù„ØªÙˆØ§ØµÙ„ ÙˆØ§Ù„Ø´Ø±Ø§ÙƒØ©
                    </div>
                    <div class="section-content">
                        <div class="question">
                            <div class="question-text">
                                Ù‡Ù„ ØªØ´Ø¹Ø± Ø£Ù†Ùƒ Ø´Ø±ÙŠÙƒ ÙØ¹Ù„ÙŠ ÙÙŠ ØªØ¹Ù„ÙŠÙ… Ø§Ø¨Ù†ÙƒØŒ Ø£Ù… Ù…Ø¬Ø±Ø¯ Ù…ØªØ§Ø¨Ø¹ Ù…Ù† Ø¨Ø¹ÙŠØ¯ØŸ
                            </div>
                            <div class="multiple-choice">
                                <div class="choice-option" onclick="selectChoice(this)" data-value="4">
                                    <div class="choice-radio"></div>
                                    <span>Ø´Ø±ÙŠÙƒ ÙØ¹Ù„ÙŠØŒ Ø±Ø£ÙŠÙŠ Ù…Ø³Ù…ÙˆØ¹ ÙˆØ£Ø´Ø§Ø±Ùƒ ÙÙŠ Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="3">
                                    <div class="choice-radio"></div>
                                    <span>Ø£Ø´Ø§Ø±Ùƒ Ø£Ø­ÙŠØ§Ù†Ø§Ù‹ ÙˆØ£Ø´Ø¹Ø± Ø¨Ø§Ù„Ø§Ù‡ØªÙ…Ø§Ù… Ø¨Ø¢Ø±Ø§Ø¦ÙŠ</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="2">
                                    <div class="choice-radio"></div>
                                    <span>Ø£ØªØ§Ø¨Ø¹ ÙÙ‚Ø· ÙˆÙ„Ø§ Ø£Ø´Ø§Ø±Ùƒ ÙƒØ«ÙŠØ±Ø§Ù‹ ÙÙŠ Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª</span>
                                </div>
                                <div class="choice-option" onclick="selectChoice(this)" data-value="1">
                                    <div class="choice-radio"></div>
                                    <span>Ø£Ø´Ø¹Ø± Ø£Ù†Ù†ÙŠ Ù…Ø¬Ø±Ø¯ Ù…ØªØ§Ø¨Ø¹ Ù…Ù† Ø¨Ø¹ÙŠØ¯</span>
                                </div>
                            </div>
                            <input type="hidden" name="parentPartnership" value="">
                        </div>

                        <div class="question">
                            <div class="question-text">
                                Ù‡Ù„ Ù‚Ù†ÙˆØ§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© ÙˆØ§Ø¶Ø­Ø© ÙˆØ³Ù‡Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…ØŸ
                            </div>
                            <div class="rating-container">
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 5)">5</div>
                                    <span style="font-size: 12px;">Ù…Ù…ØªØ§Ø²Ø©</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 4)">4</div>
                                    <span style="font-size: 12px;">Ø¬ÙŠØ¯Ø© Ø¬Ø¯Ø§Ù‹</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 3)">3</div>
                                    <span style="font-size: 12px;">Ù…Ù‚Ø¨ÙˆÙ„Ø©</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 2)">2</div>
                                    <span style="font-size: 12px;">ØµØ¹Ø¨Ø© Ø£Ø­ÙŠØ§Ù†Ø§Ù‹</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 1)">1</div>
                                    <span style="font-size: 12px;">Ù…Ø¹Ù‚Ø¯Ø©</span>
                                </div>
                            </div>
                            <input type="hidden" name="communicationChannels" value="">
                        </div>
                    </div>
                </div>

                <!-- Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ø§Ù… -->
                <div class="section">
                    <div class="section-header">
                        <div class="section-icon">ğŸ’¡</div>
                        Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ø§Ù… ÙˆØ§Ù„Ù…Ù‚ØªØ±Ø­Ø§Øª
                    </div>
                    <div class="section-content">
                        <div class="question">
                            <div class="question-text">
                                Ù…Ø§ Ø£Ø¨Ø±Ø² Ù…Ø§ ØªÙ…ÙŠØ²Øª Ø¨Ù‡ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø®Ù„Ø§Ù„ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ù†ØµØ±Ù… Ù…Ù† ÙˆØ¬Ù‡Ø© Ù†Ø¸Ø±ÙƒØŸ
                            </div>
                            <textarea name="positiveAspects" class="text-input" placeholder="Ø´Ø§Ø±ÙƒÙ†Ø§ Ø±Ø£ÙŠÙƒ Ø­ÙˆÙ„ Ø£Ø¨Ø±Ø² Ø§Ù„Ø¥ÙŠØ¬Ø§Ø¨ÙŠØ§Øª Ø§Ù„ØªÙŠ Ù„Ø§Ø­Ø¸ØªÙ‡Ø§..."></textarea>
                        </div>

                        <div class="question">
                            <div class="question-text">
                                Ù…Ø§ Ø£Ù‡Ù… Ù†Ù‚Ø·Ø© ØªØ±Ø§Ù‡Ø§ ØªØ­ØªØ§Ø¬ Ù„ØªØ­Ø³ÙŠÙ† Ø¹Ø§Ø¬Ù„ ÙÙŠ Ø§Ù„Ù…Ø¯Ø±Ø³Ø©ØŸ
                            </div>
                            <textarea name="improvementAreas" class="text-input" placeholder="Ù…Ø§ Ù‡ÙŠ Ø£ÙˆÙ„ÙˆÙŠØ§ØªÙƒ Ù„Ù„ØªØ­Ø³ÙŠÙ† ÙˆØ§Ù„ØªØ·ÙˆÙŠØ±..."></textarea>
                        </div>

                        <div class="question">
                            <div class="question-text">
                                Ù‡Ù„ Ù„Ø¯ÙŠÙƒ Ø±Ø³Ø§Ù„Ø© Ø£Ùˆ Ù†Ù‚Ø·Ø© Ù…Ø¹ÙŠÙ†Ø© ØªÙˆØ¯ ØªÙˆØµÙŠÙ„Ù‡Ø§ Ù…Ø¨Ø§Ø´Ø±Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¯Ø±Ø³Ø©ØŸ
                            </div>
                            <textarea name="messageToAdmin" class="text-input" placeholder="Ù…Ø³Ø§Ø­Ø© Ù…Ø®ØµØµØ© Ù„Ø£ÙŠ Ø±Ø³Ø§Ù„Ø© ØªØ±ÙŠØ¯ Ø¥ÙŠØµØ§Ù„Ù‡Ø§ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø© (Ø§Ù‚ØªØ±Ø§Ø­ØŒ Ø´ÙƒÙˆÙ‰ØŒ ÙÙƒØ±Ø© ØªØ·ÙˆÙŠØ±ÙŠØ©...)"></textarea>
                        </div>

                        <div class="question">
                            <div class="question-text">
                                ØªÙ‚ÙŠÙŠÙ…Ùƒ Ø§Ù„Ø¹Ø§Ù… Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù…Ø¯Ø±Ø³Ø© Ø®Ù„Ø§Ù„ Ø§Ù„Ø´Ù‡Ø± Ø§Ù„Ù…Ù†ØµØ±Ù…
                            </div>
                            <div class="rating-container">
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 5)">â­â­â­â­â­</div>
                                    <span style="font-size: 12px;">Ù…Ù…ØªØ§Ø²</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 4)">â­â­â­â­</div>
                                    <span style="font-size: 12px;">Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 3)">â­â­â­</div>
                                    <span style="font-size: 12px;">Ø¬ÙŠØ¯</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 2)">â­â­</div>
                                    <span style="font-size: 12px;">Ù…Ù‚Ø¨ÙˆÙ„</span>
                                </div>
                                <div class="rating-option">
                                    <div class="rating-circle" onclick="selectRating(this, 1)">â­</div>
                                    <span style="font-size: 12px;">ÙŠØ­ØªØ§Ø¬ ØªØ­Ø³ÙŠÙ†</span>
                                </div>
                            </div>
                            <input type="hidden" name="overallRating" value="">
                        </div>
                    </div>
                </div>
            </form>

            <div class="submit-section">
                <h3 style="color: #2c3e50; margin-bottom: 15px;">ğŸ™ Ø´ÙƒØ±Ø§Ù‹ Ù„ÙƒÙ…</h3>
                <p style="margin-bottom: 25px; color: #7f8c8d;">Ø¢Ø±Ø§Ø¤ÙƒÙ… ÙˆÙ…Ù„Ø§Ø­Ø¸Ø§ØªÙƒÙ… Ø§Ù„Ù‚ÙŠÙ…Ø© ØªØ³Ø§Ø¹Ø¯Ù†Ø§ ÙÙŠ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ© ÙˆØªØ­Ù‚ÙŠÙ‚ Ø£ÙØ¶Ù„ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ø£Ø¨Ù†Ø§Ø¦ÙƒÙ…</p>
                <button type="button" class="submit-btn" onclick="submitSurvey()">
                    Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù† âœ…
                </button>
                
                <div class="loading" id="loadingMessage">
                    <p>â³ Ø¬Ø§Ø±ÙŠ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...</p>
                </div>
                
                <div class="success-message" id="successMessage">
                    <h3>âœ… ØªÙ… Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­!</h3>
                    <p>Ø´ÙƒØ±Ø§Ù‹ Ù„ÙƒÙ…! ØªÙ… Ø­ÙØ¸ Ø§Ø³ØªØ¨ÙŠØ§Ù†ÙƒÙ… ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ù†Ø¬Ø§Ø­. Ø¢Ø±Ø§Ø¤ÙƒÙ… Ù‚ÙŠÙ…Ø© Ø¬Ø¯Ø§Ù‹ Ù„Ù†Ø§ ÙÙŠ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©.</p>
                    <p><strong>Ø±Ù‚Ù… Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø©:</strong> <span id="responseId"></span></p>
                </div>
                
                <div class="error-message" id="errorMessage">
                    <h3>âŒ Ø­Ø¯Ø« Ø®Ø·Ø£!</h3>
                    <p>Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.</p>
                    <button class="btn" onclick="submitSurvey()" style="background: white; color: #e74c3c; margin-top: 10px;">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script type="module">
        // Import Firebase functions
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.1/firebase-app.js';
        import { getFirestore, collection, addDoc, serverTimestamp } from 'https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore.js';
        import { getAnalytics } from 'https://www.gstatic.com/firebasejs/9.22.1/firebase-analytics.js';

        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyD8bugX85UtK4JVHUnjkbSLAyOb31x909Y",
            authDomain: "forms-school.firebaseapp.com",
            projectId: "forms-school",
            storageBucket: "forms-school.firebasestorage.app",
            messagingSenderId: "270437208329",
            appId: "1:270437208329:web:2c01c8a48d68910234c3d8",
            measurementId: "G-Z7KB0YDNQ6"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        const analytics = getAnalytics(app);

        // Make Firebase functions available globally
        window.db = db;
        window.collection = collection;
        window.addDoc = addDoc;
        window.serverTimestamp = serverTimestamp;

        console.log('Firebase initialized successfully');
    </script>

    <script>
        let currentProgress = 0;
        const totalQuestions = 8; // Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

        function selectChoice(element) {
            // Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ ÙÙŠ Ù†ÙØ³ Ø§Ù„Ø³Ø¤Ø§Ù„
            const parent = element.closest('.question');
            const siblings = parent.querySelectorAll('.choice-option');
            siblings.forEach(sibling => sibling.classList.remove('selected'));
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯
            element.classList.add('selected');
            
            // Ø­ÙØ¸ Ø§Ù„Ù‚ÙŠÙ…Ø© ÙÙŠ Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ù…Ø®ÙÙŠ
            const hiddenInput = parent.querySelector('input[type="hidden"]');
            if (hiddenInput) {
                hiddenInput.value = element.getAttribute('data-value');
            }
            
            updateProgress();
        }

        function selectRating(element, value) {
            // Ø¥Ù„ØºØ§Ø¡ ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ ÙÙŠ Ù†ÙØ³ Ø§Ù„Ø³Ø¤Ø§Ù„
            const parent = element.closest('.question');
            const siblings = parent.querySelectorAll('.rating-circle');
            siblings.forEach(sibling => sibling.classList.remove('selected'));
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø­Ø¯Ø¯
            element.classList.add('selected');
            
            // Ø­ÙØ¸ Ø§Ù„Ù‚ÙŠÙ…Ø© ÙÙŠ Ø§Ù„Ø­Ù‚Ù„ Ø§Ù„Ù…Ø®ÙÙŠ
            const hiddenInput = parent.querySelector('input[type="hidden"]');
            if (hiddenInput) {
                hiddenInput.value = value;
            }
            
            updateProgress();
        }

        function updateProgress() {
            const form = document.getElementById('parentSurvey');
            const hiddenInputs = form.querySelectorAll('input[type="hidden"]');
            const textInputs = form.querySelectorAll('input[type="text"], textarea');
            
            let answeredQuestions = 0;
            
            // Count hidden inputs (rating and choice questions)
            hiddenInputs.forEach(input => {
                if (input.value !== '') answeredQuestions++;
            });
            
            // Count text inputs (optional, but we'll include filled ones)
            textInputs.forEach(input => {
                if (input.value.trim() !== '') answeredQuestions++;
            });
            
            const progressPercentage = Math.min((answeredQuestions / totalQuestions) * 100, 100);
            
            document.getElementById('progressFill').style.width = progressPercentage + '%';
            document.getElementById('progressText').textContent = Math.round(progressPercentage) + '% Ù…ÙƒØªÙ…Ù„';
        }

        async function submitSurvey() {
            const form = document.getElementById('parentSurvey');
            const formData = new FormData(form);
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
            const requiredFields = ['studentGrade', 'academicMotivation', 'academicImprovement', 'homeworkLoad', 'schoolFeeling', 'teacherTreatment', 'parentPartnership', 'communicationChannels', 'overallRating'];
            const missingFields = requiredFields.filter(field => !formData.get(field));
            
            if (missingFields.length > 0) {
                alert('ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„');
                return;
            }

            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
            document.getElementById('loadingMessage').classList.add('show');
            document.querySelector('.submit-btn').disabled = true;
            document.getElementById('successMessage').classList.remove('show');
            document.getElementById('errorMessage').classList.remove('show');

            try {
                // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù„Ù„Ø­ÙØ¸
                const surveyData = {
                    // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨
                    studentName: formData.get('studentName') || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯',
                    studentGrade: parseInt(formData.get('studentGrade')),
                    
                    // Ø§Ù„ØªØ­ØµÙŠÙ„ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ
                    academicMotivation: parseInt(formData.get('academicMotivation')),
                    academicImprovement: parseInt(formData.get('academicImprovement')),
                    homeworkLoad: parseInt(formData.get('homeworkLoad')),
                    
                    // Ø§Ù„Ø¨ÙŠØ¦Ø© Ø§Ù„ØªØ¹Ù„ÙŠÙ…ÙŠØ©
                    schoolFeeling: parseInt(formData.get('schoolFeeling')),
                    teacherTreatment: parseInt(formData.get('teacherTreatment')),
                    
                    // Ø§Ù„ØªÙˆØ§ØµÙ„
                    parentPartnership: parseInt(formData.get('parentPartnership')),
                    communicationChannels: parseInt(formData.get('communicationChannels')),
                    
                    // Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø¹Ø§Ù…
                    positiveAspects: formData.get('positiveAspects') || '',
                    improvementAreas: formData.get('improvementAreas') || '',
                    messageToAdmin: formData.get('messageToAdmin') || '',
                    overallRating: parseInt(formData.get('overallRating')),
                    
                    // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
                    submissionDate: window.serverTimestamp(),
                    academicYear: '2024-2025',
                    month: 'Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„ 1446',
                    
                    // Ø­Ø³Ø§Ø¨Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
                    academicAverage: calculateAcademicAverage(formData),
                    environmentAverage: calculateEnvironmentAverage(formData),
                    communicationAverage: calculateCommunicationAverage(formData)
                };

                // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Firebase
                const docRef = await window.addDoc(window.collection(window.db, 'parentSurveys'), surveyData);
                
                // Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
                document.getElementById('loadingMessage').classList.remove('show');
                document.getElementById('successMessage').classList.add('show');
                document.getElementById('responseId').textContent = docRef.id;
                
                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                document.getElementById('parentSurvey').style.display = 'none';
                document.querySelector('.submit-btn').style.display = 'none';
                
                // Ø¥Ø±Ø³Ø§Ù„ Analytics event
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'survey_submitted', {
                        'event_category': 'engagement',
                        'event_label': 'parent_survey',
                        'student_grade': surveyData.studentGrade,
                        'overall_rating': surveyData.overallRating
                    });
                }
                
                console.log('Survey submitted successfully with ID: ', docRef.id);
                
            } catch (error) {
                console.error('Error submitting survey: ', error);
                
                // Ø¥Ø®ÙØ§Ø¡ Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£
                document.getElementById('loadingMessage').classList.remove('show');
                document.getElementById('errorMessage').classList.add('show');
                document.querySelector('.submit-btn').disabled = false;
            }
        }

        // Ø¯ÙˆØ§Ù„ Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…ØªÙˆØ³Ø·Ø§Øª
        function calculateAcademicAverage(formData) {
            const values = [
                parseInt(formData.get('academicMotivation')),
                parseInt(formData.get('academicImprovement')),
                parseInt(formData.get('homeworkLoad'))
            ];
            return values.reduce((a, b) => a + b) / values.length;
        }

        function calculateEnvironmentAverage(formData) {
            const values = [
                parseInt(formData.get('schoolFeeling')),
                parseInt(formData.get('teacherTreatment'))
            ];
            return values.reduce((a, b) => a + b) / values.length;
        }

        function calculateCommunicationAverage(formData) {
            const values = [
                parseInt(formData.get('parentPartnership')),
                parseInt(formData.get('communicationChannels'))
            ];
            return values.reduce((a, b) => a + b) / values.length;
        }

        // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… Ø¹Ù†Ø¯ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù†Øµ
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('.text-input, input[type="text"]').forEach(input => {
                input.addEventListener('input', updateProgress);
            });

            // ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø­Ø±ÙƒØ© Ø¹Ù†Ø¯ Ø§Ù„ØªÙ…Ø±ÙŠØ±
            function animateOnScroll() {
                const sections = document.querySelectorAll('.section');
                sections.forEach(section => {
                    const sectionTop = section.getBoundingClientRect().top;
                    const windowHeight = window.innerHeight;
                    
                    if (sectionTop < windowHeight * 0.8) {
                        section.style.opacity = '1';
                        section.style.transform = 'translateY(0)';
                    }
                });
            }

            // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
            document.querySelectorAll('.section').forEach(section => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(30px)';
                section.style.transition = 'all 0.6s ease';
            });

            window.addEventListener('scroll', animateOnScroll);
            animateOnScroll(); // ØªØ´ØºÙŠÙ„ ÙÙˆØ±ÙŠ
        });

        // Ù…Ù†Ø¹ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠ
        document.getElementById('parentSurvey').addEventListener('submit', function(e) {
            e.preventDefault();
            submitSurvey();
        });
    </script>
</body>
</html>
