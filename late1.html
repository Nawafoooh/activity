<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>منصة توثيق التأخر الصباحي - وزارة التعليم</title>
    <style>
        :root {
            --primary-color: #1a5490;
            --primary-dark: #0d3a66;
            --secondary-color: #2c7ab8;
            --accent-color: #e8a547;
            --success-color: #28a745;
            --text-primary: #2d3748;
            --text-secondary: #4a5568;
            --background: #f7fafc;
            --card-background: #ffffff;
            --border-color: #e2e8f0;
            --shadow: rgba(0, 0, 0, 0.08);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Tahoma', 'Droid Arabic Naskh', sans-serif;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            color: var(--text-primary);
            line-height: 1.8;
            direction: rtl;
            text-align: right;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 40px 20px;
            text-align: center;
            box-shadow: 0 4px 20px var(--shadow);
            border-radius: 0 0 20px 20px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 300px;
            height: 300px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 50%;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -5%;
            width: 200px;
            height: 200px;
            background: rgba(255, 255, 255, 0.03);
            border-radius: 50%;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .logo-section {
            margin-bottom: 20px;
        }

        .school-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .school-logo svg {
            width: 45px;
            height: 45px;
            fill: var(--primary-color);
        }

        .header h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .header .subtitle {
            font-size: 1.1rem;
            opacity: 0.95;
            font-weight: 400;
        }

        .card {
            background: var(--card-background);
            border-radius: 16px;
            padding: 35px;
            margin-bottom: 30px;
            box-shadow: 0 4px 20px var(--shadow);
            border: 1px solid var(--border-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(26, 84, 144, 0.12);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
        }

        .card-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-left: 15px;
        }

        .card-icon svg {
            width: 28px;
            height: 28px;
            fill: white;
        }

        .card-title {
            font-size: 1.5rem;
            color: var(--primary-color);
            font-weight: 700;
        }

        .intro-text {
            background: linear-gradient(135deg, #fef5e7 0%, #fdebd0 100%);
            border-right: 4px solid var(--accent-color);
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            line-height: 2;
            font-size: 1.05rem;
        }

        .intro-text p {
            margin-bottom: 15px;
        }

        .intro-text p:last-child {
            margin-bottom: 0;
        }

        .highlight-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            border: 2px dashed var(--accent-color);
        }

        .highlight-box strong {
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            margin-bottom: 10px;
            font-weight: 600;
            color: var(--text-primary);
            font-size: 1.05rem;
        }

        .required {
            color: #e53e3e;
            margin-right: 5px;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid var(--border-color);
            border-radius: 10px;
            font-size: 1rem;
            font-family: inherit;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(26, 84, 144, 0.1);
        }

        .form-textarea {
            min-height: 120px;
            resize: vertical;
        }

        .pledge-section {
            background: linear-gradient(135deg, #e6f2ff 0%, #f0f7ff 100%);
            border: 3px solid var(--primary-color);
            border-radius: 15px;
            padding: 30px;
            margin: 30px 0;
        }

        .pledge-title {
            color: var(--primary-color);
            font-size: 1.4rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
        }

        .pledge-text {
            background: white;
            padding: 25px;
            border-radius: 12px;
            border-right: 5px solid var(--primary-color);
            line-height: 2.2;
            font-size: 1.1rem;
            color: var(--text-primary);
            text-align: justify;
        }

        .checkbox-group {
            margin-top: 25px;
            display: flex;
            align-items: flex-start;
            padding: 20px;
            background: white;
            border-radius: 10px;
        }

        .checkbox-group input[type="checkbox"] {
            width: 22px;
            height: 22px;
            margin-left: 12px;
            cursor: pointer;
            accent-color: var(--primary-color);
        }

        .checkbox-group label {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--primary-color);
            cursor: pointer;
            line-height: 1.6;
        }

        .btn {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 18px 45px;
            font-size: 1.2rem;
            font-weight: 700;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            width: 100%;
            box-shadow: 0 4px 15px rgba(26, 84, 144, 0.3);
        }

        .btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 25px rgba(26, 84, 144, 0.4);
        }

        .btn:active:not(:disabled) {
            transform: translateY(0);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .success-message {
            display: none;
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            border: 3px solid var(--success-color);
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            margin-top: 30px;
            animation: slideIn 0.5s ease;
        }

        .success-message.show {
            display: block;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            background: var(--success-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 25px;
        }

        .success-icon svg {
            width: 45px;
            height: 45px;
            fill: white;
        }

        .success-message h2 {
            color: var(--success-color);
            font-size: 1.8rem;
            margin-bottom: 20px;
        }

        .success-message p {
            font-size: 1.15rem;
            line-height: 2;
            color: var(--text-primary);
        }

        .footer {
            text-align: center;
            padding: 30px 20px;
            color: var(--text-secondary);
            margin-top: 50px;
            border-top: 2px solid var(--border-color);
        }

        .footer-content {
            background: var(--card-background);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 2px 10px var(--shadow);
        }

        .officials {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }

        .official-info {
            padding: 15px;
            background: var(--background);
            border-radius: 10px;
        }

        .official-info strong {
            color: var(--primary-color);
            display: block;
            margin-bottom: 5px;
            font-size: 1.05rem;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: slideIn 0.6s ease;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.5rem;
            }
            
            .card {
                padding: 25px;
            }
            
            .officials {
                grid-template-columns: 1fr;
            }
        }

        @media print {
            body {
                background: white;
            }
            
            .header, .btn {
                display: none;
            }
            
            .card {
                box-shadow: none;
                border: 1px solid #000;
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo-section">
                <div class="school-logo">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 3L1 9L5 11.18V17.18L12 21L19 17.18V11.18L21 10.09V17H23V9L12 3ZM18.82 9L12 12.72L5.18 9L12 5.28L18.82 9ZM17 15.99L12 18.72L7 15.99V12.27L12 15L17 12.27V15.99Z"/>
                    </svg>
                </div>
            </div>
            <h1>منصة توثيق الانضباط الصباحي</h1>
            <p class="subtitle">وزارة التعليم - المملكة العربية السعودية</p>
        </div>
    </header>

    <div class="container">
        <div class="card fade-in">
            <div class="card-header">
                <div class="card-icon">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V11H13V17ZM13 9H11V7H13V9Z"/>
                    </svg>
                </div>
                <h2 class="card-title">رسالة تربوية هامة</h2>
            </div>

            <div class="intro-text">
                <p><strong>عزيزي ولي الأمر،</strong></p>
                
                <p>تحية طيبة وبعد،</p>
                
                <p>نظراً لتكرار تأخر ابنكم عن الطابور الصباحي، وحرصاً على مصلحته التعليمية والتربوية، نأمل منكم التكرم بتعبئة النموذج أدناه وأخذ التعهد اللازم بالحرص على انضباطه مستقبلاً.</p>

                <div class="highlight-box">
                    <strong>علماً بأن:</strong> تكرار التأخر قد يستدعي اتخاذ إجراءات نظامية إضافية وفق اللوائح المعتمدة من وزارة التعليم.
                </div>
            </div>
        </div>

        <form id="pledgeForm" class="card fade-in">
            <div class="card-header">
                <div class="card-icon">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 2H6C4.9 2 4 2.9 4 4V20C4 21.1 4.9 22 6 22H18C19.1 22 20 21.1 20 20V8L14 2ZM18 20H6V4H13V9H18V20ZM8 15.01L9.41 16.42L11 14.84V19H13V14.84L14.59 16.43L16 15.01L12.01 11L8 15.01Z"/>
                    </svg>
                </div>
                <h2 class="card-title">بيانات الطالب وولي الأمر</h2>
            </div>

            <div class="form-group">
                <label class="form-label">
                    <span class="required">*</span>
                    اسم الطالب رباعياً
                </label>
                <input type="text" id="studentName" class="form-input" required placeholder="أدخل الاسم الرباعي للطالب">
            </div>

            <div class="form-group">
                <label class="form-label">
                    <span class="required">*</span>
                    الصف الدراسي
                </label>
                <select id="grade" class="form-select" required>
                    <option value="">اختر الصف</option>
                    <option value="الأول متوسط">الأول متوسط</option>
                    <option value="الثاني متوسط">الثاني متوسط</option>
                    <option value="الثالث متوسط">الثالث متوسط</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label">
                    <span class="required">*</span>
                    الفصل
                </label>
                <input type="text" id="section" class="form-input" required placeholder="مثال: ١، ٢، ٣">
            </div>

            <div class="form-group">
                <label class="form-label">
                    <span class="required">*</span>
                    عدد مرات التأخر المسجلة
                </label>
                <input type="number" id="lateCount" class="form-input" min="1" required placeholder="أدخل العدد">
            </div>

            <div class="form-group">
                <label class="form-label">
                    <span class="required">*</span>
                    أسباب التأخر
                </label>
                <textarea id="reason" class="form-textarea" required placeholder="يرجى توضيح أسباب تأخر الطالب بشكل مفصل"></textarea>
            </div>

            <div class="form-group">
                <label class="form-label">
                    <span class="required">*</span>
                    اسم ولي الأمر رباعياً
                </label>
                <input type="text" id="parentName" class="form-input" required placeholder="أدخل اسم ولي الأمر الرباعي">
            </div>

            <div class="pledge-section">
                <h3 class="pledge-title">صيغة التعهد الرسمي</h3>
                <div class="pledge-text">
                    أتعهد أنا ولي أمر الطالب المذكور أعلاه بالحرص على انضباط ابني وحضوره في الوقت المحدد نظاماً. وأقر بعلمي أن تكرار التأخر الصباحي يؤثر سلباً على مستواه التحصيلي، وقد يعرضه للإجراءات النظامية المعتمدة من وزارة التعليم. كما أتعهد بالتعاون الكامل مع إدارة المدرسة في متابعة انضباطه.
                </div>

                <div class="checkbox-group">
                    <input type="checkbox" id="acceptPledge" required>
                    <label for="acceptPledge">
                        أقر بأنني قرأت التعهد أعلاه وفهمت محتواه بشكل كامل، وأوافق على جميع بنوده والتزم بتنفيذها
                    </label>
                </div>
            </div>

            <button type="submit" class="btn" id="submitBtn">
                إقرار وإرسال التعهد رسمياً
            </button>
        </form>

        <div class="success-message" id="successMessage">
            <div class="success-icon">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
                </svg>
            </div>
            <h2>تم استلام التعهد بنجاح</h2>
            <p>
                نشكركم على تعاونكم وحرصكم على مصلحة نجلكم التعليمية. نؤكد لكم أن انتظام الطالب في الحضور الصباحي هو أساس نجاحه الأكاديمي، وتعاونكم محل تقدير من إدارة المدرسة.
                <br><br>
                نسأل الله التوفيق والنجاح لأبنائنا الطلاب.
            </p>
        </div>

        <footer class="footer">
            <div class="footer-content">
                <div class="officials">
                    <div class="official-info">
                        <strong>وكيل شؤون الطلاب</strong>
                        <p>الأستاذ نواف الصبحي</p>
                    </div>
                    <div class="official-info">
                        <strong>قائد المدرسة</strong>
                        <p>الأستاذ خالد المطيري</p>
                    </div>
                </div>
                <p style="margin-top: 20px; color: var(--text-secondary); font-size: 0.95rem;">
                    © 2026 - وزارة التعليم - المملكة العربية السعودية
                </p>
            </div>
        </footer>
    </div>

    <script>
        const form = document.getElementById('pledgeForm');
        const successMessage = document.getElementById('successMessage');
        const submitBtn = document.getElementById('submitBtn');

        form.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const pledgeData = {
                studentName: document.getElementById('studentName').value,
                grade: document.getElementById('grade').value,
                section: document.getElementById('section').value,
                lateCount: document.getElementById('lateCount').value,
                reason: document.getElementById('reason').value,
                parentName: document.getElementById('parentName').value,
                timestamp: new Date().toLocaleString('ar-SA', { 
                    timeZone: 'Asia/Riyadh',
                    dateStyle: 'full',
                    timeStyle: 'medium'
                })
            };

            let pledges = JSON.parse(localStorage.getItem('pledges') || '[]');
            pledges.push(pledgeData);
            localStorage.setItem('pledges', JSON.stringify(pledges));

            form.style.display = 'none';
            successMessage.classList.add('show');
            successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });

            setTimeout(() => {
                form.reset();
                form.style.display = 'block';
                successMessage.classList.remove('show');
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 10000);
        });

        const acceptPledge = document.getElementById('acceptPledge');
        acceptPledge.addEventListener('change', function() {
            submitBtn.disabled = !this.checked;
        });

        submitBtn.disabled = true;
    </script>
</body>
</html>
