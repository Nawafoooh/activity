<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مسابقة الحروف الثقافية</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            flex-grow: 1;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 5px;
            background: linear-gradient(90deg, #ff4757, #2ed573);
        }

        .school-info {
            background: linear-gradient(45deg, #2c3e50, #3498db);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .school-info h2 {
            font-size: 28px;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .school-info p {
            font-size: 18px;
            opacity: 0.9;
        }

        .title {
            font-size: 48px;
            font-weight: bold;
            background: linear-gradient(45deg, #ff4757, #2ed573);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .subtitle {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 30px;
            font-weight: 300;
        }

        .game-board {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .board-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 15px;
            margin: 30px 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .letter-cell {
            aspect-ratio: 1;
            background: linear-gradient(45deg, #f8f9fa, #e9ecef);
            border: 3px solid #dee2e6;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: #495057;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .letter-cell:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }

        .letter-cell.red {
            background: linear-gradient(45deg, #ff4757, #ff6b7a);
            color: white;
            border-color: #ff4757;
        }

        .letter-cell.green {
            background: linear-gradient(45deg, #2ed573, #7bed9f);
            color: white;
            border-color: #2ed573;
        }

        .teams-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 30px 0;
        }

        .team {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease;
        }

        .team:hover {
            transform: translateY(-10px);
        }

        .team.red {
            border-top: 5px solid #ff4757;
        }

        .team.green {
            border-top: 5px solid #2ed573;
        }

        .team h3 {
            font-size: 28px;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .team.red h3 {
            color: #ff4757;
        }

        .team.green h3 {
            color: #2ed573;
        }

        .team-objective {
            font-size: 18px;
            color: #6c757d;
            font-weight: 500;
        }

        .rules-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .rules-title {
            font-size: 32px;
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-weight: bold;
        }

        .rules-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }

        .rule-card {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 15px;
            padding: 25px;
            border-right: 5px solid #007bff;
            transition: transform 0.3s ease;
        }

        .rule-card:hover {
            transform: translateX(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }

        .rule-card h4 {
            color: #007bff;
            font-size: 20px;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .rule-card p {
            color: #495057;
            line-height: 1.6;
            font-size: 16px;
        }

        .special-features {
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            color: #2c3e50;
        }

        .special-features h4 {
            font-size: 22px;
            margin-bottom: 15px;
            color: #d35400;
        }

        .footer {
            background: rgba(44, 62, 80, 0.95);
            color: white;
            padding: 30px;
            text-align: center;
            border-radius: 20px 20px 0 0;
            margin-top: auto;
            backdrop-filter: blur(10px);
        }

        .footer h3 {
            font-size: 24px;
            margin-bottom: 10px;
            color: #3498db;
        }

        .footer p {
            font-size: 18px;
            margin: 5px 0;
        }

        @media (max-width: 768px) {
            .title {
                font-size: 36px;
            }
            
            .teams-section {
                grid-template-columns: 1fr;
            }
            
            .board-grid {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .rules-grid {
                grid-template-columns: 1fr;
            }
        }

        .floating-elements {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
        }

        .floating-letter {
            position: absolute;
            color: rgba(255, 255, 255, 0.1);
            font-size: 100px;
            font-weight: bold;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.1; }
            50% { transform: translateY(-20px) rotate(5deg); opacity: 0.2; }
        }

        .question-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .question-container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            text-align: center;
            position: relative;
        }

        .question-header {
            font-size: 24px;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 20px;
        }

        .current-team {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 20px;
            padding: 15px;
            border-radius: 15px;
        }

        .team-red-turn {
            background: linear-gradient(45deg, #ff4757, #ff6b7a);
            color: white;
        }

        .team-green-turn {
            background: linear-gradient(45deg, #2ed573, #7bed9f);
            color: white;
        }

        .question-subject {
            background: linear-gradient(45deg, #3742fa, #5352ed);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 25px;
            display: inline-block;
        }

        .question-text {
            font-size: 20px;
            color: #2c3e50;
            margin-bottom: 30px;
            line-height: 1.6;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            border-right: 5px solid #3742fa;
        }

        .answer-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .answer-btn {
            padding: 15px 30px;
            font-size: 18px;
            font-weight: bold;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .correct-btn {
            background: linear-gradient(45deg, #2ed573, #7bed9f);
            color: white;
        }

        .correct-btn:hover {
            background: linear-gradient(45deg, #26d967, #70e39a);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(46, 213, 115, 0.3);
        }

        .wrong-btn {
            background: linear-gradient(45deg, #ff4757, #ff6b7a);
            color: white;
        }

        .wrong-btn:hover {
            background: linear-gradient(45deg, #ff3742, #ff5765);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(255, 71, 87, 0.3);
        }

        .team-selector {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .team-selector h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .team-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
        }

        .team-btn {
            padding: 12px 25px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .team-red-btn {
            background: linear-gradient(45deg, #ff4757, #ff6b7a);
            color: white;
        }

        .team-green-btn {
            background: linear-gradient(45deg, #2ed573, #7bed9f);
            color: white;
        }

        .close-btn {
            position: absolute;
            top: 15px;
            left: 15px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-btn:hover {
            background: #c0392b;
            transform: rotate(90deg);
        }
    </style>
</head>
<body>
    <div class="floating-elements">
        <div class="floating-letter" style="top: 10%; left: 10%; animation-delay: 0s;">أ</div>
        <div class="floating-letter" style="top: 20%; right: 15%; animation-delay: 1s;">ب</div>
        <div class="floating-letter" style="bottom: 20%; left: 20%; animation-delay: 2s;">ج</div>
        <div class="floating-letter" style="bottom: 10%; right: 10%; animation-delay: 3s;">د</div>
    </div>

    <div class="container">
        <div class="header">
            <div class="school-info">
                <h2>متوسطة ابن عمرو الأنصاري</h2>
                <p>مدير المدرسة: خالد المطيري</p>
            </div>
            
            <h1 class="title">🏆 مسابقة الحروف الثقافية 🏆</h1>
            <p class="subtitle">لعبة ثقافية تنافسية شيقة ومفيدة</p>
        </div>

        <div class="teams-section">
            <div class="team red">
                <h3>🔴 الفريق الأحمر</h3>
                <p class="team-objective">يسعى لتكوين خط أفقي<br>(من اليمين إلى اليسار)</p>
            </div>
            <div class="team green">
                <h3>🟢 الفريق الأخضر</h3>
                <p class="team-objective">يسعى لتكوين خط رأسي<br>(من الأعلى إلى الأسفل)</p>
            </div>
        </div>

        <div class="game-board">
            <h3 style="text-align: center; color: #2c3e50; font-size: 28px; margin-bottom: 20px;">
                🎯 لوحة اللعب
            </h3>
            <div class="board-grid">
                <div class="letter-cell">أ</div>
                <div class="letter-cell green">ب</div>
                <div class="letter-cell">ج</div>
                <div class="letter-cell red">د</div>
                <div class="letter-cell">هـ</div>
                <div class="letter-cell">و</div>
                <div class="letter-cell red">ز</div>
                <div class="letter-cell">ح</div>
                <div class="letter-cell">ط</div>
                <div class="letter-cell green">ي</div>
                <div class="letter-cell">ك</div>
                <div class="letter-cell">ل</div>
                <div class="letter-cell">م</div>
                <div class="letter-cell red">ن</div>
                <div class="letter-cell green">س</div>
                <div class="letter-cell">ع</div>
                <div class="letter-cell">ف</div>
                <div class="letter-cell">ق</div>
                <div class="letter-cell green">ر</div>
                <div class="letter-cell">ش</div>
                <div class="letter-cell">ت</div>
                <div class="letter-cell">ث</div>
                <div class="letter-cell red">خ</div>
                <div class="letter-cell">ذ</div>
            </div>
        </div>

        <div class="rules-section">
            <h2 class="rules-title">📋 قواعد اللعبة</h2>
            
            <div class="rules-grid">
                <div class="rule-card">
                    <h4>🎯 الهدف الأساسي</h4>
                    <p>توصيل أطراف لوحة اللعب بخطوط متصلة بلون الفريق للفوز بالجولة</p>
                </div>
                
                <div class="rule-card">
                    <h4>❓ آلية الأسئلة</h4>
                    <p>يطرح المذيع أسئلة ثقافية متنوعة على كلا الفريقين بالتناوب</p>
                </div>
                
                <div class="rule-card">
                    <h4>🎮 طريقة اللعب</h4>
                    <p>اختيار حرف من اللوحة، الإجابة على السؤال، وكسب الخلية عند الإجابة الصحيحة</p>
                </div>
                
                <div class="rule-card">
                    <h4>🏆 شروط الفوز</h4>
                    <p>تكوين خط كامل (أفقي للأحمر، رأسي للأخضر) لكسب الجولة</p>
                </div>
            </div>

            <div class="special-features">
                <h4>✨ المميزات الخاصة</h4>
                <p><strong>الأسئلة الذهبية:</strong> أسئلة خاصة يفوز بها من يجيب عليها بسبيكة ذهبية</p>
                <p><strong>السبائك الذهبية:</strong> يمكن للفريق الفائز الحصول على سبيكتين ذهبيتين بعد الإجابة على أسئلة في وقت محدد</p>
            </div>
        </div>
    </div>

    <!-- نافذة الأسئلة -->
    <div class="question-modal" id="questionModal">
        <div class="question-container">
            <button class="close-btn" onclick="closeQuestion()">×</button>
            
            <div class="question-header">🎯 سؤال المسابقة</div>
            
            <div class="current-team" id="currentTeam">دور الفريق الأحمر 🔴</div>
            
            <div class="question-subject" id="questionSubject">رياضيات</div>
            
            <div class="question-text" id="questionText">
                ما هو ناتج: 25 × 4 + 15 ÷ 3؟
            </div>
            
            <div class="answer-buttons">
                <button class="answer-btn correct-btn" onclick="answerQuestion(true)">
                    ✓ إجابة صحيحة
                </button>
                <button class="answer-btn wrong-btn" onclick="answerQuestion(false)">
                    ✗ إجابة خاطئة
                </button>
            </div>
        </div>
    </div>

    <div class="footer">
        <h3>تنفيذ وإشراف</h3>
        <p>الأستاذ نواف الصبحي</p>
    </div>

    <script>
        // بنك الأسئلة للمرحلة المتوسطة
        const questionBank = {
            رياضيات: [
                "ما هو ناتج: 25 × 4 + 15 ÷ 3؟",
                "ما هو مربع العدد 12؟",
                "ما هو محيط المربع الذي طول ضلعه 8 سم؟",
                "ما هو ناتج: √64 + 6²؟",
                "ما هو ناتج: (15 + 25) ÷ 8؟",
                "كم يساوي 0.75 بالكسر الاعتيادي؟",
                "ما هو مساحة المثلث الذي قاعدته 10 سم وارتفاعه 6 سم؟",
                "ما هو العدد الأولي التالي بعد العدد 13؟",
                "ما هو ناتج: 2³ × 3²؟",
                "كم يساوي 35% من العدد 200؟"
            ],
            علوم: [
                "ما هو الغاز الذي نتنفسه؟",
                "كم عدد عظام جسم الإنسان البالغ تقريباً؟",
                "ما هو أكبر كوكب في النظام الشمسي؟",
                "ما هي وحدة قياس القوة؟",
                "ما هو الجهاز المسؤول عن ضخ الدم في الجسم؟",
                "ما هي الحالة الفيزيائية للماء عند درجة حرارة 100 مئوية؟",
                "كم عدد أقمار كوكب الأرض؟",
                "ما هو الحيوان الذي يُعتبر من الثدييات المائية؟",
                "ما هو المركب الكيميائي للماء؟",
                "أين تقع أكبر عضلة في جسم الإنسان؟"
            ],
            قراءة: [
                "من هو مؤلف رواية 'مدن الملح'؟",
                "ما هو جمع كلمة 'كتاب'؟",
                "ما هو مرادف كلمة 'شجاع'؟",
                "من هو الشاعر الذي قال: 'المتنبي بشعره يملأ الدنيا ويشغل الناس'؟",
                "ما هو الفعل من كلمة 'كاتب'؟",
                "ما هو ضد كلمة 'النهار'؟",
                "من هو صاحب معلقة 'قفا نبك'؟",
                "ما هو اسم المفعول من الفعل 'كتب'؟",
                "أكمل البيت: 'العلم يرفع بيوتاً لا عماد لها...'",
                "ما هي أدوات الاستفهام؟"
            ]
        };

        let currentCell = null;
        let currentTurn = 'red'; // red أو green
        let gameState = {}; // لحفظ حالة كل خلية
        let usedQuestions = new Set(); // لتتبع الأسئلة المستخدمة

        // تهيئة حالة اللعبة
        function initializeGame() {
            const cells = document.querySelectorAll('.letter-cell');
            cells.forEach((cell, index) => {
                if (!cell.classList.contains('red') && !cell.classList.contains('green')) {
                    gameState[index] = {
                        letter: cell.textContent,
                        owner: null,
                        currentQuestion: getRandomQuestion()
                    };
                }
            });
        }

        // الحصول على سؤال عشوائي
        function getRandomQuestion() {
            const subjects = Object.keys(questionBank);
            const subject = subjects[Math.floor(Math.random() * subjects.length)];
            const questions = questionBank[subject];
            
            let questionKey, question;
            do {
                const questionIndex = Math.floor(Math.random() * questions.length);
                question = questions[questionIndex];
                questionKey = subject + '-' + questionIndex;
            } while (usedQuestions.has(questionKey) && usedQuestions.size < getTotalQuestions());

            usedQuestions.add(questionKey);
            
            return {
                subject: subject,
                text: question
            };
        }

        function getTotalQuestions() {
            return Object.values(questionBank).reduce((total, questions) => total + questions.length, 0);
        }

        // إضافة تأثيرات تفاعلية للخلايا
        const cells = document.querySelectorAll('.letter-cell');
        
        cells.forEach((cell, index) => {
            cell.addEventListener('click', function() {
                if (!this.classList.contains('red') && !this.classList.contains('green')) {
                    currentCell = { element: this, index: index };
                    showQuestion();
                }
            });
        });

        function showQuestion() {
            if (!currentCell || !gameState[currentCell.index]) return;
            
            const modal = document.getElementById('questionModal');
            const currentTeamEl = document.getElementById('currentTeam');
            const questionSubjectEl = document.getElementById('questionSubject');
            const questionTextEl = document.getElementById('questionText');
            
            const questionData = gameState[currentCell.index].currentQuestion;
            
            // تحديث واجهة السؤال
            if (currentTurn === 'red') {
                currentTeamEl.textContent = 'دور الفريق الأحمر 🔴';
                currentTeamEl.className = 'current-team team-red-turn';
            } else {
                currentTeamEl.textContent = 'دور الفريق الأخضر 🟢';
                currentTeamEl.className = 'current-team team-green-turn';
            }
            
            questionSubjectEl.textContent = questionData.subject;
            questionTextEl.textContent = questionData.text;
            
            modal.style.display = 'flex';
        }

        function answerQuestion(isCorrect) {
            if (!currentCell) return;

            if (isCorrect) {
                // إجابة صحيحة - يكسب الفريق الخلية
                currentCell.element.classList.add(currentTurn);
                gameState[currentCell.index].owner = currentTurn;
                
                // تأثير بصري
                currentCell.element.style.transform = 'scale(1.2)';
                setTimeout(() => {
                    currentCell.element.style.transform = 'scale(1)';
                }, 300);
                
                closeQuestion();
                switchTurn();
            } else {
                // إجابة خاطئة - ينتقل السؤال للفريق الآخر
                if (currentTurn === 'red') {
                    currentTurn = 'green';
                    showQuestion(); // إظهار نفس السؤال للفريق الآخر
                } else {
                    // كلا الفريقين أخطأ - تغيير السؤال والعودة للون المحايد
                    gameState[currentCell.index].currentQuestion = getRandomQuestion();
                    closeQuestion();
                    currentTurn = 'red'; // البداية بالفريق الأحمر
                }
            }
        }

        function switchTurn() {
            currentTurn = currentTurn === 'red' ? 'green' : 'red';
        }

        function closeQuestion() {
            const modal = document.getElementById('questionModal');
            modal.style.display = 'none';
            currentCell = null;
        }

        // إضافة تأثير الانيمشن للعناصر عند التحميل
        window.addEventListener('load', function() {
            initializeGame();
            
            const elements = document.querySelectorAll('.rule-card, .team, .letter-cell');
            elements.forEach((element, index) => {
                element.style.opacity = '0';
                element.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    element.style.transition = 'all 0.6s ease';
                    element.style.opacity = '1';
                    element.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });

        // إضافة وظيفة للتحقق من الفوز
        function checkWin() {
            // يمكن إضافة منطق التحقق من الفوز هنا
            // للتحقق من تكوين خط أفقي أو رأسي
        }
    </script>
</body>
</html>
