<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام إدخال البيانات التعليمية المحترف</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #3498db, #e74c3c, #f39c12, #27ae60);
        }

        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
            font-weight: 700;
        }

        .user-selector {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .role-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .role-btn {
            background: linear-gradient(145deg, #3498db, #2980b9);
            color: white;
            padding: 20px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .role-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .role-btn:hover::before {
            left: 100%;
        }

        .role-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }

        .role-btn.active {
            background: linear-gradient(145deg, #27ae60, #229954);
        }

        .data-entry-area {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            display: none;
        }

        .data-entry-area.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 1.8em;
            color: #2c3e50;
            margin-bottom: 25px;
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 3px solid #3498db;
        }

        .form-section {
            margin-bottom: 30px;
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #3498db;
        }

        .form-section h3 {
            color: #2c3e50;
            margin-bottom: 20px;
            font-size: 1.4em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #bdc3c7;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
        }

        .teacher-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 25px;
        }

        .teacher-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            border: 2px solid transparent;
        }

        .teacher-card:hover {
            transform: translateY(-5px);
            border-color: #3498db;
        }

        .teacher-name {
            font-size: 1.3em;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 10px;
        }

        .rating-section {
            margin: 15px 0;
        }

        .rating-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 10px 0;
        }

        .rating-btn {
            padding: 8px 15px;
            border: 2px solid #bdc3c7;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9em;
        }

        .rating-btn:hover {
            background: #3498db;
            color: white;
            border-color: #3498db;
        }

        .rating-btn.selected {
            background: #27ae60;
            color: white;
            border-color: #27ae60;
        }

        .percentage-input {
            text-align: center;
            font-weight: bold;
            font-size: 1.1em;
        }

        .summary-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .summary-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .summary-label {
            font-size: 1.2em;
        }

        .btn {
            background: linear-gradient(145deg, #27ae60, #229954);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1.1em;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            margin: 10px;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .btn-secondary {
            background: linear-gradient(145deg, #3498db, #2980b9);
        }

        .btn-warning {
            background: linear-gradient(145deg, #f39c12, #e67e22);
        }

        .alert {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            border-left: 4px solid;
        }

        .alert-info {
            background: #d1ecf1;
            border-left-color: #17a2b8;
            color: #0c5460;
        }

        .alert-success {
            background: #d4edda;
            border-left-color: #28a745;
            color: #155724;
        }

        .alert-warning {
            background: #fff3cd;
            border-left-color: #ffc107;
            color: #856404;
        }

        .progress-indicator {
            margin: 20px 0;
            text-align: center;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #27ae60, #2ecc71);
            border-radius: 10px;
            transition: width 0.5s ease;
        }

        .data-preview {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid #dee2e6;
        }

        .back-to-main {
            position: fixed;
            top: 20px;
            left: 20px;
            background: linear-gradient(145deg, #e74c3c, #c0392b);
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .back-to-main:hover {
            transform: scale(1.05);
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .role-buttons {
                grid-template-columns: 1fr;
            }
            
            .form-grid,
            .teacher-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <button class="back-to-main" onclick="goBackToMain()">← العودة للصفحة الرئيسية</button>

    <div class="container">
        <div class="header">
            <h1>نظام إدخال البيانات التعليمية</h1>
            <p>منصة متخصصة لإدخال وتحديث بيانات المتابعة التعليمية</p>
        </div>

        <div class="user-selector">
            <h2>اختر دورك في المدرسة:</h2>
            <div class="role-buttons">
                <button class="role-btn" onclick="selectRole('math-coordinator')">
                    منسق قسم الرياضيات
                    <div style="font-size: 0.9em; margin-top: 5px;">متابعة المعلمين وتقييم الأداء</div>
                </button>
                <button class="role-btn" onclick="selectRole('arabic-coordinator')">
                    منسق قسم اللغة العربية
                    <div style="font-size: 0.9em; margin-top: 5px;">المهارات القرائية والكتابية</div>
                </button>
                <button class="role-btn" onclick="selectRole('science-coordinator')">
                    منسق قسم العلوم
                    <div style="font-size: 0.9em; margin-top: 5px;">المختبرات والأنشطة العلمية</div>
                </button>
                <button class="role-btn" onclick="selectRole('english-coordinator')">
                    منسق قسم اللغة الإنجليزية
                    <div style="font-size: 0.9em; margin-top: 5px;">المهارات اللغوية والتواصل</div>
                </button>
                <button class="role-btn" onclick="selectRole('educational-affairs')">
                    وكيل الشؤون التعليمية
                    <div style="font-size: 0.9em; margin-top: 5px;">الإشراف على العملية التعليمية</div>
                </button>
                <button class="role-btn" onclick="selectRole('student-affairs')">
                    وكيل الشؤون الطلابية
                    <div style="font-size: 0.9em; margin-top: 5px;">السلوك والأنشطة الطلابية</div>
                </button>
                <button class="role-btn" onclick="selectRole('quality-coordinator')">
                    منسق الجودة الرئيسي
                    <div style="font-size: 0.9em; margin-top: 5px;">متابعة معايير الجودة الشاملة</div>
                </button>
            </div>
        </div>

        <!-- منسق قسم الرياضيات -->
        <div id="math-coordinator" class="data-entry-area">
            <div class="section-title">منسق قسم الرياضيات - متابعة الأداء اليومي</div>
            
            <div class="alert alert-info">
                <strong>مهامك اليومية:</strong> متابعة أداء معلمي الرياضيات، تقييم طرق التدريس، رصد تحصيل الطلاب، ومتابعة الأنشطة العلاجية والإثرائية
            </div>

            <div class="form-section">
                <h3>📊 متابعة المعلمين</h3>
                <div class="teacher-grid">
                    <div class="teacher-card">
                        <div class="teacher-name">أ. عبدالله خالد</div>
                        <div class="rating-section">
                            <label>تقييم الأداء اليوم:</label>
                            <div class="rating-buttons">
                                <button class="rating-btn" onclick="selectRating(this, 'math', 'teacher1', 'excellent')">ممتاز (90-100%)</button>
                                <button class="rating-btn" onclick="selectRating(this, 'math', 'teacher1', 'good')">جيد (80-89%)</button>
                                <button class="rating-btn" onclick="selectRating(this, 'math', 'teacher1', 'needs-improvement')">يحتاج تحسين (60-79%)</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ملاحظات الأداء:</label>
                            <textarea id="math-teacher1-notes" rows="3" placeholder="مثال: استخدم طرق تفاعلية في شرح المعادلات، الطلاب متفاعلون بشكل ملحوظ"></textarea>
                        </div>
                    </div>

                    <div class="teacher-card">
                        <div class="teacher-name">أ. سارة محمد</div>
                        <div class="rating-section">
                            <label>تقييم الأداء اليوم:</label>
                            <div class="rating-buttons">
                                <button class="rating-btn" onclick="selectRating(this, 'math', 'teacher2', 'excellent')">ممتاز (90-100%)</button>
                                <button class="rating-btn" onclick="selectRating(this, 'math', 'teacher2', 'good')">جيد (80-89%)</button>
                                <button class="rating-btn" onclick="selectRating(this, 'math', 'teacher2', 'needs-improvement')">يحتاج تحسين (60-79%)</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ملاحظات الأداء:</label>
                            <textarea id="math-teacher2-notes" rows="3" placeholder="مثال: تحتاج لتنويع أساليب التقويم، اقترحت عليها استخدام التقويم التكويني"></textarea>
                        </div>
                    </div>

                    <div class="teacher-card">
                        <div class="teacher-name">أ. أحمد يوسف</div>
                        <div class="rating-section">
                            <label>تقييم الأداء اليوم:</label>
                            <div class="rating-buttons">
                                <button class="rating-btn" onclick="selectRating(this, 'math', 'teacher3', 'excellent')">ممتاز (90-100%)</button>
                                <button class="rating-btn" onclick="selectRating(this, 'math', 'teacher3', 'good')">جيد (80-89%)</button>
                                <button class="rating-btn" onclick="selectRating(this, 'math', 'teacher3', 'needs-improvement')">يحتاج تحسين (60-79%)</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ملاحظات الأداء:</label>
                            <textarea id="math-teacher3-notes" rows="3" placeholder="مثال: تطور ملحوظ في استخدام التقنية، الطلاب أظهروا فهماً أفضل"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>📈 تقييم أداء القسم الإجمالي</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>تنفيذ المنهج (%):</label>
                        <input type="number" min="0" max="100" value="78" id="math-curriculum" class="percentage-input" oninput="updateMathOverall()">
                        <small>النسبة المنجزة من المنهج حتى اليوم</small>
                    </div>
                    <div class="form-group">
                        <label>جودة طرق التدريس (%):</label>
                        <input type="number" min="0" max="100" value="82" id="math-teaching" class="percentage-input" oninput="updateMathOverall()">
                        <small>تقييم عام لطرق التدريس المستخدمة</small>
                    </div>
                    <div class="form-group">
                        <label>فعالية التقويم (%):</label>
                        <input type="number" min="0" max="100" value="74" id="math-assessment" class="percentage-input" oninput="updateMathOverall()">
                        <small>مدى تنوع وفعالية أساليب التقويم</small>
                    </div>
                    <div class="form-group">
                        <label>الأنشطة والإثراء (%):</label>
                        <input type="number" min="0" max="100" value="69" id="math-activities" class="percentage-input" oninput="updateMathOverall()">
                        <small>جودة الأنشطة العلاجية والإثرائية</small>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>📝 التحديات والإنجازات</h3>
                <div class="form-group">
                    <label>التحديات الحالية:</label>
                    <textarea id="math-challenges" rows="4" placeholder="مثال: ضعف في مهارات حل المسائل اللفظية لدى طلاب الصف الثاني متوسط"></textarea>
                </div>
                <div class="form-group">
                    <label>الإنجازات والنجاحات:</label>
                    <textarea id="math-achievements" rows="4" placeholder="مثال: تحسن ملحوظ في نتائج الاختبارات القصيرة، زيادة مشاركة الطلاب"></textarea>
                </div>
                <div class="form-group">
                    <label>التوصيات للتحسين:</label>
                    <textarea id="math-recommendations" rows="4" placeholder="مثال: زيادة الأنشطة التفاعلية، تطوير برنامج دعم للطلاب الضعاف"></textarea>
                </div>
            </div>

            <div class="summary-card">
                <div class="summary-value" id="math-overall">76%</div>
                <div class="summary-label">التقييم العام لقسم الرياضيات</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="math-progress" style="width: 76%"></div>
                </div>
            </div>

            <div style="text-align: center;">
                <button class="btn" onclick="saveMathData()">💾 حفظ وإرسال للصفحة الرئيسية</button>
                <button class="btn btn-secondary" onclick="previewMathReport()">📊 معاينة التقرير</button>
                <button class="btn btn-warning" onclick="generateMathPlan()">📋 خطة التحسين</button>
            </div>
        </div>

        <!-- منسق قسم اللغة العربية -->
        <div id="arabic-coordinator" class="data-entry-area">
            <div class="section-title">منسق قسم اللغة العربية - متابعة الأداء التعليمي</div>
            
            <div class="alert alert-info">
                <strong>مهامك:</strong> متابعة تطوير المهارات القرائية والكتابية، تقييم تنفيذ منهج اللغة العربية، ومتابعة الأنشطة الإثرائية
            </div>

            <div class="form-section">
                <h3>👥 متابعة المعلمين</h3>
                <div class="teacher-grid">
                    <div class="teacher-card">
                        <div class="teacher-name">أ. فاطمة أحمد</div>
                        <div class="form-group">
                            <label>مستوى تنفيذ المنهج (%):</label>
                            <input type="number" min="0" max="100" value="95" class="percentage-input" id="arabic-teacher1-curriculum">
                        </div>
                        <div class="rating-section">
                            <label>جودة طرق التدريس:</label>
                            <div class="rating-buttons">
                                <button class="rating-btn selected" onclick="selectRating(this, 'arabic', 'teacher1', 'excellent')">ممتاز</button>
                                <button class="rating-btn" onclick="selectRating(this, 'arabic', 'teacher1', 'good')">جيد</button>
                                <button class="rating-btn" onclick="selectRating(this, 'arabic', 'teacher1', 'needs-improvement')">يحتاج تحسين</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ملاحظات المتابعة:</label>
                            <textarea rows="3" placeholder="مثال: تتميز في تدريس النحو باستخدام أساليب تفاعلية، الطلاب يظهرون تحسناً ملحوظاً في الإعراب"></textarea>
                        </div>
                    </div>

                    <div class="teacher-card">
                        <div class="teacher-name">أ. محمد علي</div>
                        <div class="form-group">
                            <label>مستوى تنفيذ المنهج (%):</label>
                            <input type="number" min="0" max="100" value="88" class="percentage-input" id="arabic-teacher2-curriculum">
                        </div>
                        <div class="rating-section">
                            <label>جودة طرق التدريس:</label>
                            <div class="rating-buttons">
                                <button class="rating-btn" onclick="selectRating(this, 'arabic', 'teacher2', 'excellent')">ممتاز</button>
                                <button class="rating-btn selected" onclick="selectRating(this, 'arabic', 'teacher2', 'good')">جيد</button>
                                <button class="rating-btn" onclick="selectRating(this, 'arabic', 'teacher2', 'needs-improvement')">يحتاج تحسين</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ملاحظات المتابعة:</label>
                            <textarea rows="3" placeholder="مثال: يحتاج لتطوير مهارات تدريس التعبير الكتابي، اقترحت عليه استراتيجيات جديدة"></textarea>
                        </div>
                    </div>

                    <div class="teacher-card">
                        <div class="teacher-name">أ. نورا سالم</div>
                        <div class="form-group">
                            <label>مستوى تنفيذ المنهج (%):</label>
                            <input type="number" min="0" max="100" value="92" class="percentage-input" id="arabic-teacher3-curriculum">
                        </div>
                        <div class="rating-section">
                            <label>جودة طرق التدريس:</label>
                            <div class="rating-buttons">
                                <button class="rating-btn selected" onclick="selectRating(this, 'arabic', 'teacher3', 'excellent')">ممتاز</button>
                                <button class="rating-btn" onclick="selectRating(this, 'arabic', 'teacher3', 'good')">جيد</button>
                                <button class="rating-btn" onclick="selectRating(this, 'arabic', 'teacher3', 'needs-improvement')">يحتاج تحسين</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>ملاحظات المتابعة:</label>
                            <textarea rows="3" placeholder="مثال: متميزة في تدريس القراءة، تستخدم طرق متنوعة لتنمية مهارات الفهم والاستيعاب"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>📚 المهارات القرائية والكتابية</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>متوسط مستوى المهارات القرائية (%):</label>
                        <input type="number" min="0" max="100" value="83" class="percentage-input" id="arabic-reading-skills">
                        <small>تقييم عام لمستوى القراءة لدى الطلاب</small>
                    </div>
                    <div class="form-group">
                        <label>متوسط مستوى المهارات الكتابية (%):</label>
                        <input type="number" min="0" max="100" value="78" class="percentage-input" id="arabic-writing-skills">
                        <small>تقييم عام لمستوى الكتابة لدى الطلاب</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>البرامج العلاجية المطبقة:</label>
                    <textarea id="arabic-remedial-programs" rows="3" placeholder="مثال: برنامج تحسين الخط العربي لـ12 طالب، برنامج دعم القراءة للطلاب الضعاف"></textarea>
                </div>
                
                <div class="form-group">
                    <label>الأنشطة الإثرائية:</label>
                    <textarea id="arabic-enrichment-activities" rows="3" placeholder="مثال: مسابقة الشعر العربي، ورشة الكتابة الإبداعية، نادي القراءة الأسبوعي"></textarea>
                </div>
            </div>

            <div class="form-section">
                <h3>📊 تقييم أداء القسم الإجمالي</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>تنفيذ المنهج (%):</label>
                        <input type="number" min="0" max="100" value="92" id="arabic-curriculum" class="percentage-input" oninput="updateArabicOverall()">
                    </div>
                    <div class="form-group">
                        <label>طرق التدريس (%):</label>
                        <input type="number" min="0" max="100" value="88" id="arabic-teaching" class="percentage-input" oninput="updateArabicOverall()">
                    </div>
                    <div class="form-group">
                        <label>أساليب التقويم (%):</label>
                        <input type="number" min="0" max="100" value="85" id="arabic-assessment" class="percentage-input" oninput="updateArabicOverall()">
                    </div>
                    <div class="form-group">
                        <label>الأنشطة الإثرائية (%):</label>
                        <input type="number" min="0" max="100" value="91" id="arabic-activities" class="percentage-input" oninput="updateArabicOverall()">
                    </div>
                </div>
            </div>

            <div class="summary-card">
                <div class="summary-value" id="arabic-overall">89%</div>
                <div class="summary-label">التقييم العام لقسم اللغة العربية</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="arabic-progress" style="width: 89%"></div>
                </div>
            </div>

            <div style="text-align: center;">
                <button class="btn" onclick="saveArabicData()">💾 حفظ وإرسال للصفحة الرئيسية</button>
                <button class="btn btn-secondary" onclick="generateArabicReport()">📊 تقرير مفصل</button>
                <button class="btn btn-warning" onclick="planArabicWorkshop()">🎯 تخطيط ورش تدريبية</button>
            </div>
        </div>

        <!-- منسق قسم العلوم -->
        <div id="science-coordinator" class="data-entry-area">
            <div class="section-title">منسق قسم العلوم - متابعة الأداء والمختبرات</div>
            
            <div class="alert alert-info">
                <strong>مهامك:</strong> متابعة استخدام المختبرات، تقييم التجارب العملية، ومتابعة الأنشطة العلمية والمسابقات
            </div>

            <div class="form-section">
                <h3>🔬 متابعة المعلمين والمختبرات</h3>
                <div class="teacher-grid">
                    <div class="teacher-card">
                        <div class="teacher-name">أ. هند عبدالرحمن</div>
                        <div class="rating-section">
                            <label>استخدام المختبر:</label>
                            <div class="rating-buttons">
                                <button class="rating-btn selected" onclick="selectRating(this, 'science', 'teacher1', 'excellent')">ممتاز</button>
                                <button class="rating-btn" onclick="selectRating(this, 'science', 'teacher1', 'good')">جيد</button>
                                <button class="rating-btn" onclick="selectRating(this, 'science', 'teacher1', 'needs-improvement')">يحتاج تحسين</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>التجارب العملية المنفذة هذا الأسبوع:</label>
                            <input type="number" min="0" value="8" placeholder="عدد التجارب">
                        </div>
                        <div class="form-group">
                            <label>ملاحظات الأداء:</label>
                            <textarea rows="3" placeholder="مثال: تستخدم المختبر بفعالية عالية، الطلاب متفاعلون مع التجارب العملية"></textarea>
                        </div>
                    </div>

                    <div class="teacher-card">
                        <div class="teacher-name">أ. خالد محمود</div>
                        <div class="rating-section">
                            <label>استخدام المختبر:</label>
                            <div class="rating-buttons">
                                <button class="rating-btn selected" onclick="selectRating(this, 'science', 'teacher2', 'excellent')">ممتاز</button>
                                <button class="rating-btn" onclick="selectRating(this, 'science', 'teacher2', 'good')">جيد</button>
                                <button class="rating-btn" onclick="selectRating(this, 'science', 'teacher2', 'needs-improvement')">يحتاج تحسين</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>التجارب العملية المنفذة هذا الأسبوع:</label>
                            <input type="number" min="0" value="6" placeholder="عدد التجارب">
                        </div>
                        <div class="form-group">
                            <label>ملاحظات الأداء:</label>
                            <textarea rows="3" placeholder="مثال: يطبق معايير السلامة بدقة، ينوع في التجارب حسب المنهج"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>🏆 الأنشطة والمسابقات العلمية</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>المسابقات المشاركة بها:</label>
                        <textarea rows="2" placeholder="مثال: مسابقة العلوم الوطنية، معرض العلوم المدرسي، مسابقة الاختراعات"></textarea>
                    </div>
                    <div class="form-group">
                        <label>النتائج والإنجازات:</label>
                        <textarea rows="2" placeholder="مثال: فوز 3 طلاب في المركز الثاني بمعرض العلوم، تأهل فريق المدرسة للمرحلة النهائية"></textarea>
                    </div>
                    <div class="form-group">
                        <label>عدد المشاريع العلمية المنجزة:</label>
                        <input type="number" min="0" value="15" placeholder="عدد المشاريع">
                    </div>
                    <div class="form-group">
                        <label>نسبة مشاركة الطلاب في الأنشطة العلمية (%):</label>
                        <input type="number" min="0" max="100" value="78" class="percentage-input">
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>📈 تقييم أداء القسم</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>تنفيذ المنهج (%):</label>
                        <input type="number" min="0" max="100" value="96" id="science-curriculum" class="percentage-input" oninput="updateScienceOverall()">
                    </div>
                    <div class="form-group">
                        <label>طرق التدريس (%):</label>
                        <input type="number" min="0" max="100" value="95" id="science-teaching" class="percentage-input" oninput="updateScienceOverall()">
                    </div>
                    <div class="form-group">
                        <label>استخدام المختبر (%):</label>
                        <input type="number" min="0" max="100" value="92" id="science-lab" class="percentage-input" oninput="updateScienceOverall()">
                    </div>
                    <div class="form-group">
                        <label>الأنشطة العلمية (%):</label>
                        <input type="number" min="0" max="100" value="94" id="science-activities" class="percentage-input" oninput="updateScienceOverall()">
                    </div>
                </div>
            </div>

            <div class="summary-card">
                <div class="summary-value" id="science-overall">94%</div>
                <div class="summary-label">التقييم العام لقسم العلوم</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="science-progress" style="width: 94%"></div>
                </div>
            </div>

            <div style="text-align: center;">
                <button class="btn" onclick="saveScienceData()">💾 حفظ وإرسال للصفحة الرئيسية</button>
                <button class="btn btn-secondary" onclick="generateScienceReport()">📊 تقرير مفصل</button>
                <button class="btn btn-warning" onclick="scheduleLabMaintenance()">🔧 جدولة صيانة المختبر</button>
            </div>
        </div>

        <!-- منسق قسم اللغة الإنجليزية -->
        <div id="english-coordinator" class="data-entry-area">
            <div class="section-title">منسق قسم اللغة الإنجليزية - متابعة المهارات اللغوية</div>
            
            <div class="alert alert-info">
                <strong>مهامك:</strong> متابعة تطوير المهارات الأربع (الاستماع، المحادثة، القراءة، الكتابة) وتقييم استخدام التقنيات التعليمية
            </div>

            <div class="form-section">
                <h3>👨‍🏫 متابعة المعلمين</h3>
                <div class="teacher-grid">
                    <div class="teacher-card">
                        <div class="teacher-name">أ. منى عبدالله</div>
                        <div class="rating-section">
                            <label>مستوى التدريس باللغة الإنجليزية:</label>
                            <div class="rating-buttons">
                                <button class="rating-btn" onclick="selectRating(this, 'english', 'teacher1', 'excellent')">ممتاز</button>
                                <button class="rating-btn selected" onclick="selectRating(this, 'english', 'teacher1', 'good')">جيد</button>
                                <button class="rating-btn" onclick="selectRating(this, 'english', 'teacher1', 'needs-improvement')">يحتاج تحسين</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>استخدام التقنيات التعليمية:</label>
                            <select>
                                <option>ممتاز - يستخدم أدوات متنوعة</option>
                                <option selected>جيد - يستخدم بعض التقنيات</option>
                                <option>محدود - يعتمد على الطرق التقليدية</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>ملاحظات الأداء:</label>
                            <textarea rows="3" placeholder="مثال: جيدة في تدريس المحادثة، لكن تحتاج لتطوير أساليب تدريس القواعد"></textarea>
                        </div>
                    </div>

                    <div class="teacher-card">
                        <div class="teacher-name">أ. عمر سعد</div>
                        <div class="rating-section">
                            <label>مستوى التدريس باللغة الإنجليزية:</label>
                            <div class="rating-buttons">
                                <button class="rating-btn selected" onclick="selectRating(this, 'english', 'teacher2', 'excellent')">ممتاز</button>
                                <button class="rating-btn" onclick="selectRating(this, 'english', 'teacher2', 'good')">جيد</button>
                                <button class="rating-btn" onclick="selectRating(this, 'english', 'teacher2', 'needs-improvement')">يحتاج تحسين</button>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>استخدام التقنيات التعليمية:</label>
                            <select>
                                <option selected>ممتاز - يستخدم أدوات متنوعة</option>
                                <option>جيد - يستخدم بعض التقنيات</option>
                                <option>محدود - يعتمد على الطرق التقليدية</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>ملاحظات الأداء:</label>
                            <textarea rows="3" placeholder="مثال: متميز في استخدام الألعاب التعليمية، الطلاب متفاعلون جداً"></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>🎯 المهارات اللغوية الأربع</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>مهارة الاستماع (Listening) (%):</label>
                        <input type="number" min="0" max="100" value="75" class="percentage-input">
                        <small>متوسط مستوى الطلاب في فهم المسموع</small>
                    </div>
                    <div class="form-group">
                        <label>مهارة المحادثة (Speaking) (%):</label>
                        <input type="number" min="0" max="100" value="68" class="percentage-input">
                        <small>متوسط قدرة الطلاب على التحدث</small>
                    </div>
                    <div class="form-group">
                        <label>مهارة القراءة (Reading) (%):</label>
                        <input type="number" min="0" max="100" value="82" class="percentage-input">
                        <small>متوسط مستوى الطلاب في فهم المقروء</small>
                    </div>
                    <div class="form-group">
                        <label>مهارة الكتابة (Writing) (%):</label>
                        <input type="number" min="0" max="100" value="71" class="percentage-input">
                        <small>متوسط قدرة الطلاب على الكتابة</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>البرامج العلاجية والإثرائية:</label>
                    <textarea rows="3" placeholder="مثال: نادي المحادثة الإنجليزية، برنامج دعم الطلاب الضعاف، مسابقة الخطابة"></textarea>
                </div>
            </div>

            <div class="form-section">
                <h3>📊 تقييم أداء القسم</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>تنفيذ المنهج (%):</label>
                        <input type="number" min="0" max="100" value="84" id="english-curriculum" class="percentage-input" oninput="updateEnglishOverall()">
                    </div>
                    <div class="form-group">
                        <label>طرق التدريس (%):</label>
                        <input type="number" min="0" max="100" value="86" id="english-teaching" class="percentage-input" oninput="updateEnglishOverall()">
                    </div>
                    <div class="form-group">
                        <label>التقنيات التعليمية (%):</label>
                        <input type="number" min="0" max="100" value="80" id="english-technology" class="percentage-input" oninput="updateEnglishOverall()">
                    </div>
                    <div class="form-group">
                        <label>الأنشطة اللغوية (%):</label>
                        <input type="number" min="0" max="100" value="78" id="english-activities" class="percentage-input" oninput="updateEnglishOverall()">
                    </div>
                </div>
            </div>

            <div class="summary-card">
                <div class="summary-value" id="english-overall">82%</div>
                <div class="summary-label">التقييم العام لقسم اللغة الإنجليزية</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="english-progress" style="width: 82%"></div>
                </div>
            </div>

            <div style="text-align: center;">
                <button class="btn" onclick="saveEnglishData()">💾 حفظ وإرسال للصفحة الرئيسية</button>
                <button class="btn btn-secondary" onclick="generateEnglishReport()">📊 تقرير مفصل</button>
                <button class="btn btn-warning" onclick="planEnglishActivities()">🎯 تخطيط أنشطة لغوية</button>
            </div>
        </div>

        <!-- وكيل الشؤون التعليمية -->
        <div id="educational-affairs" class="data-entry-area">
            <div class="section-title">وكيل الشؤون التعليمية - الإشراف التعليمي الشامل</div>
            
            <div class="alert alert-info">
                <strong>مهامك:</strong> الإشراف العام على العملية التعليمية، متابعة جميع الأقسام، تنسيق الجهود التعليمية، وضمان تطبيق معايير الجودة
            </div>

            <div class="form-section">
                <h3>📋 المتابعة الشاملة للأقسام</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>قسم الرياضيات - التقييم العام (%):</label>
                        <input type="number" min="0" max="100" value="76" class="percentage-input" readonly>
                        <small>بيانات محدثة من منسق القسم</small>
                    </div>
                    <div class="form-group">
                        <label>قسم اللغة العربية - التقييم العام (%):</label>
                        <input type="number" min="0" max="100" value="89" class="percentage-input" readonly>
                        <small>بيانات محدثة من منسق القسم</small>
                    </div>
                    <div class="form-group">
                        <label>قسم العلوم - التقييم العام (%):</label>
                        <input type="number" min="0" max="100" value="94" class="percentage-input" readonly>
                        <small>بيانات محدثة من منسق القسم</small>
                    </div>
                    <div class="form-group">
                        <label>قسم اللغة الإنجليزية - التقييم العام (%):</label>
                        <input type="number" min="0" max="100" value="82" class="percentage-input" readonly>
                        <small>بيانات محدثة من منسق القسم</small>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>📊 مؤشرات الأداء التعليمي</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>نسبة تنفيذ المناهج إجمالي (%):</label>
                        <input type="number" min="0" max="100" value="88" id="curriculum-completion" class="percentage-input" oninput="updateEducationalOverall()">
                    </div>
                    <div class="form-group">
                        <label>جودة طرق التدريس إجمالي (%):</label>
                        <input type="number" min="0" max="100" value="85" id="teaching-quality" class="percentage-input" oninput="updateEducationalOverall()">
                    </div>
                    <div class="form-group">
                        <label>فعالية أساليب التقويم (%):</label>
                        <input type="number" min="0" max="100" value="82" id="assessment-effectiveness" class="percentage-input" oninput="updateEducationalOverall()">
                    </div>
                    <div class="form-group">
                        <label>نسبة حضور المعلمين (%):</label>
                        <input type="number" min="0" max="100" value="94" id="teacher-attendance" class="percentage-input" oninput="updateEducationalOverall()">
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>📈 خطط التطوير والتحسين</h3>
                <div class="form-group">
                    <label>الأقسام المحتاجة لدعم إضافي:</label>
                    <textarea rows="3" placeholder="مثال: قسم الرياضيات يحتاج دعم في الأنشطة الإثرائية، قسم اللغة الإنجليزية يحتاج تطوير مهارات المحادثة"></textarea>
                </div>
                <div class="form-group">
                    <label>البرامج التدريبية المقترحة:</label>
                    <textarea rows="3" placeholder="مثال: ورشة تطوير طرق التدريس، برنامج تدريبي على التقنيات التعليمية، دورة إدارة الصف"></textarea>
                </div>
                <div class="form-group">
                    <label>الموارد التعليمية المطلوبة:</label>
                    <textarea rows="3" placeholder="مثال: أجهزة عرض إضافية، برامج تعليمية تفاعلية، كتب مرجعية للمعلمين"></textarea>
                </div>
            </div>

            <div class="summary-card">
                <div class="summary-value" id="educational-overall">87%</div>
                <div class="summary-label">مؤشر الشؤون التعليمية الإجمالي</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="educational-progress" style="width: 87%"></div>
                </div>
            </div>

            <div style="text-align: center;">
                <button class="btn" onclick="saveEducationalData()">💾 حفظ وإرسال للصفحة الرئيسية</button>
                <button class="btn btn-secondary" onclick="generateEducationalReport()">📊 تقرير شامل</button>
                <button class="btn btn-warning" onclick="scheduleCoordinationMeeting()">🤝 جدولة اجتماع تنسيقي</button>
            </div>
        </div>

        <!-- وكيل الشؤون الطلابية -->
        <div id="student-affairs" class="data-entry-area">
            <div class="section-title">وكيل الشؤون الطلابية - متابعة البيئة الطلابية</div>
            
            <div class="alert alert-info">
                <strong>مهامك:</strong> متابعة السلوك والانضباط، الأنشطة اللاصفية، التواصل مع أولياء الأمور، والبرامج الإرشادية
            </div>

            <div class="form-section">
                <h3>📊 الحضور والانضباط اليومي</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>نسبة الحضور اليوم (%):</label>
                        <input type="number" min="0" max="100" value="91" id="daily-attendance" class="percentage-input">
                        <small>من إجمالي 450 طالب</small>
                    </div>
                    <div class="form-group">
                        <label>عدد المتأخرين:</label>
                        <input type="number" min="0" value="12" id="late-students">
                        <small>طلاب تأخروا عن الطابور</small>
                    </div>
                    <div class="form-group">
                        <label>المخالفات السلوكية:</label>
                        <input type="number" min="0" value="3" id="violations-count">
                        <small>مخالفات مسجلة اليوم</small>
                    </div>
                    <div class="form-group">
                        <label>الحالات المحلولة:</label>
                        <input type="number" min="0" value="5" id="resolved-cases">
                        <small>مشاكل تم حلها اليوم</small>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>🎭 الأنشطة والبرامج الطلابية</h3>
                <div class="form-group">
                    <label>الأنشطة المنفذة اليوم:</label>
                    <textarea rows="3" placeholder="مثال: ورشة المهارات الحياتية لطلاب الثالث متوسط، مسابقة ثقافية بين الصفوف"></textarea>
                </div>
                <div class="form-group">
                    <label>عدد الطلاب المشاركين في الأنشطة:</label>
                    <input type="number" min="0" value="85" placeholder="إجمالي المشاركين">
                </div>
                <div class="form-group">
                    <label>البرامج الإرشادية:</label>
                    <textarea rows="3" placeholder="مثال: جلسة إرشاد جماعي حول التخطيط للمستقبل، لقاءات فردية مع 8 طلاب"></textarea>
                </div>
            </div>

            <div class="form-section">
                <h3>📞 التواصل مع أولياء الأمور</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>المكالمات الهاتفية:</label>
                        <input type="number" min="0" value="6" placeholder="عدد المكالمات اليوم">
                    </div>
                    <div class="form-group">
                        <label>الرسائل المرسلة:</label>
                        <input type="number" min="0" value="15" placeholder="رسائل نصية أو إلكترونية">
                    </div>
                    <div class="form-group">
                        <label>الزيارات المدرسية:</label>
                        <input type="number" min="0" value="4" placeholder="أولياء أمور زاروا المدرسة">
                    </div>
                    <div class="form-group">
                        <label>موضوعات التواصل:</label>
                        <textarea rows="2" placeholder="مثال: متابعة تحسن سلوك الطلاب، إشعار بالتفوق، طلب مقابلة لمناقشة وضع تعليمي"></textarea>
                    </div>
                </div>
            </div>

            <div class="summary-card">
                <div class="summary-value">88%</div>
                <div class="summary-label">مؤشر الشؤون الطلابية العام</div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 88%"></div>
                </div>
            </div>

            <div style="text-align: center;">
                <button class="btn" onclick="saveStudentAffairsData()">حفظ وإرسال للصفحة الرئيسية</button>
                <button class="btn btn-secondary" onclick="generateStudentReport()">تقرير الشؤون الطلابية</button>
                <button class="btn btn-warning" onclick="scheduleParentMeeting()">جدولة لقاء أولياء الأمور</button>
            </div>
        </div>

        <!-- منسق الجودة الرئيسي -->
        <div id="quality-coordinator" class="data-entry-area">
            <div class="section-title">منسق الجودة الرئيسي - المتابعة الشاملة لمعايير الجودة</div>
            
            <div class="alert alert-info">
                <strong>مهامك:</strong> الإشراف العام على تطبيق معايير الجودة، متابعة جميع المؤشرات، تنسيق جهود التحسين المستمر، ومراجعة الوثائق والسجلات
            </div>

            <div class="form-section">
                <h3>مراجعة المعايير الأساسية</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>معيار الإدارة المدرسية (%):</label>
                        <input type="number" min="0" max="100" value="88" id="management-standard" class="percentage-input" oninput="updateQualityOverall()">
                        <small>التخطيط، القيادة، الموارد</small>
                    </div>
                    <div class="form-group">
                        <label>معيار التعليم والتعلم (%):</label>
                        <input type="number" min="0" max="100" value="87" id="teaching-standard" class="percentage-input" oninput="updateQualityOverall()">
                        <small>المناهج، طرق التدريس، التقويم</small>
                    </div>
                    <div class="form-group">
                        <label>معيار نواتج التعلم (%):</label>
                        <input type="number" min="0" max="100" value="85" id="outcomes-standard" class="percentage-input" oninput="updateQualityOverall()">
                        <small>تحصيل الطلاب، السلوك، التطور الشخصي</small>
                    </div>
                    <div class="form-group">
                        <label>معيار البيئة المدرسية (%):</label>
                        <input type="number" min="0" max="100" value="94" id="environment-standard" class="percentage-input" oninput="updateQualityOverall()">
                        <small>المرافق، الأمن والسلامة، المناخ المدرسي</small>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>متابعة الوثائق والسجلات</h3>
                <div class="form-grid">
                    <div class="form-group">
                        <label>الوثائق المكتملة:</label>
                        <input type="number" min="0" value="112" id="completed-documents">
                        <small>من إجمالي 127 وثيقة مطلوبة</small>
                    </div>
                    <div class="form-group">
                        <label>الوثائق المحتاجة للتحديث:</label>
                        <input type="number" min="0" value="15" id="pending-documents">
                        <small>وثائق قديمة أو ناقصة</small>
                    </div>
                    <div class="form-group">
                        <label>نسبة اكتمال الملف (%):</label>
                        <input type="number" min="0" max="100" value="88" class="percentage-input" readonly>
                        <small>محسوبة تلقائياً</small>
                    </div>
                    <div class="form-group">
                        <label>حالة التقرير الذاتي:</label>
                        <select id="self-report-status">
                            <option>قيد الإعداد</option>
                            <option selected>مكتمل 80%</option>
                            <option>جاهز للمراجعة</option>
                            <option>تم الاعتماد</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="form-section">
                <h3>المؤشرات المحتاجة للتحسين</h3>
                <div class="form-group">
                    <label>المؤشرات ذات الأولوية العالية:</label>
                    <textarea rows="3" placeholder="مثال: تطوير أساليب التقويم في قسم الرياضيات، تفعيل البرامج الإثرائية، تحسين نسب المشاركة في الأنشطة"></textarea>
                </div>
                <div class="form-group">
                    <label>خطط التحسين المقترحة:</label>
                    <textarea rows="3" placeholder="مثال: ورش تدريبية للمعلمين على التقويم الحديث، برامج دعم إضافية للطلاب الضعاف"></textarea>
                </div>
                <div class="form-group">
                    <label>الجدول الزمني للتنفيذ:</label>
                    <textarea rows="2" placeholder="مثال: الأسبوع الأول: ورش التدريب، الأسبوع الثاني: بداية التطبيق، نهاية الشهر: تقييم النتائج"></textarea>
                </div>
                <div class="form-group">
                    <label>الموارد المطلوبة:</label>
                    <textarea rows="2" placeholder="مثال: مدربين متخصصين، مواد تدريبية، وقت إضافي للتطبيق"></textarea>
                </div>
            </div>

            <div class="summary-card">
                <div class="summary-value" id="overall-quality">88%</div>
                <div class="summary-label">المؤشر العام لجودة المدرسة</div>
                <div class="progress-bar">
                    <div class="progress-fill" id="quality-progress" style="width: 88%"></div>
                </div>
            </div>

            <div style="text-align: center;">
                <button class="btn" onclick="saveQualityData()">حفظ وإرسال للصفحة الرئيسية</button>
                <button class="btn btn-secondary" onclick="generateQualityReport()">تقرير الجودة الشامل</button>
                <button class="btn btn-warning" onclick="scheduleQualityMeeting()">جدولة اجتماع الجودة</button>
                <button class="btn btn-warning" onclick="exportQualityDocuments()">تصدير وثائق الجودة</button>
            </div>
        </div>
    </div>

    <script>
        // بيانات التقييمات لكل قسم
        const departmentData = {
            math: { curriculum: 78, teaching: 82, assessment: 74, activities: 69 },
            arabic: { curriculum: 92, teaching: 88, assessment: 85, activities: 91 },
            science: { curriculum: 96, teaching: 95, lab: 92, activities: 94 },
            english: { curriculum: 84, teaching: 86, technology: 80, activities: 78 },
            educational: { curriculum: 88, teaching: 85, assessment: 82, attendance: 94 },
            quality: { management: 88, teaching: 87, outcomes: 85, environment: 94 }
        };

        // تقييمات المعلمين
        const teacherRatings = {
            math: { teacher1: null, teacher2: null, teacher3: null },
            arabic: { teacher1: 'excellent', teacher2: 'good', teacher3: 'excellent' },
            science: { teacher1: 'excellent', teacher2: 'excellent' },
            english: { teacher1: 'good', teacher2: 'excellent' }
        };

        // دالة اختيار الدور
        function selectRole(roleId) {
            // إخفاء جميع المناطق
            const areas = document.querySelectorAll('.data-entry-area');
            areas.forEach(area => area.classList.remove('active'));
            
            // إظهار المنطقة المحددة
            const selectedArea = document.getElementById(roleId);
            if (selectedArea) {
                selectedArea.classList.add('active');
            }
            
            // تحديث الأزرار
            const buttons = document.querySelectorAll('.role-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // تحديث البيانات عند اختيار الدور
            updateDepartmentData(roleId);
        }

        // دالة اختيار التقييم
        function selectRating(button, department, teacher, rating) {
            const siblings = button.parentNode.querySelectorAll('.rating-btn');
            siblings.forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');
            
            // حفظ التقييم
            if (teacherRatings[department]) {
                teacherRatings[department][teacher] = rating;
            }
        }

        // دوال تحديث التقييم الإجمالي لكل قسم
        function updateMathOverall() {
            const curriculum = parseInt(document.getElementById('math-curriculum')?.value) || 0;
            const teaching = parseInt(document.getElementById('math-teaching')?.value) || 0;
            const assessment = parseInt(document.getElementById('math-assessment')?.value) || 0;
            const activities = parseInt(document.getElementById('math-activities')?.value) || 0;
            
            const overall = Math.round((curriculum + teaching + assessment + activities) / 4);
            updateDisplayValues('math-overall', 'math-progress', overall);
            
            // تحديث البيانات المحفوظة
            departmentData.math = { curriculum, teaching, assessment, activities };
        }

        function updateArabicOverall() {
            const curriculum = parseInt(document.getElementById('arabic-curriculum')?.value) || 0;
            const teaching = parseInt(document.getElementById('arabic-teaching')?.value) || 0;
            const assessment = parseInt(document.getElementById('arabic-assessment')?.value) || 0;
            const activities = parseInt(document.getElementById('arabic-activities')?.value) || 0;
            
            const overall = Math.round((curriculum + teaching + assessment + activities) / 4);
            updateDisplayValues('arabic-overall', 'arabic-progress', overall);
            
            departmentData.arabic = { curriculum, teaching, assessment, activities };
        }

        function updateScienceOverall() {
            const curriculum = parseInt(document.getElementById('science-curriculum')?.value) || 0;
            const teaching = parseInt(document.getElementById('science-teaching')?.value) || 0;
            const lab = parseInt(document.getElementById('science-lab')?.value) || 0;
            const activities = parseInt(document.getElementById('science-activities')?.value) || 0;
            
            const overall = Math.round((curriculum + teaching + lab + activities) / 4);
            updateDisplayValues('science-overall', 'science-progress', overall);
            
            departmentData.science = { curriculum, teaching, lab, activities };
        }

        function updateEnglishOverall() {
            const curriculum = parseInt(document.getElementById('english-curriculum')?.value) || 0;
            const teaching = parseInt(document.getElementById('english-teaching')?.value) || 0;
            const technology = parseInt(document.getElementById('english-technology')?.value) || 0;
            const activities = parseInt(document.getElementById('english-activities')?.value) || 0;
            
            const overall = Math.round((curriculum + teaching + technology + activities) / 4);
            updateDisplayValues('english-overall', 'english-progress', overall);
            
            departmentData.english = { curriculum, teaching, technology, activities };
        }

        function updateEducationalOverall() {
            const curriculum = parseInt(document.getElementById('curriculum-completion')?.value) || 0;
            const teaching = parseInt(document.getElementById('teaching-quality')?.value) || 0;
            const assessment = parseInt(document.getElementById('assessment-effectiveness')?.value) || 0;
            const attendance = parseInt(document.getElementById('teacher-attendance')?.value) || 0;
            
            const overall = Math.round((curriculum + teaching + assessment + attendance) / 4);
            updateDisplayValues('educational-overall', 'educational-progress', overall);
            
            departmentData.educational = { curriculum, teaching, assessment, attendance };
        }

        function updateQualityOverall() {
            const management = parseInt(document.getElementById('management-standard')?.value) || 0;
            const teaching = parseInt(document.getElementById('teaching-standard')?.value) || 0;
            const outcomes = parseInt(document.getElementById('outcomes-standard')?.value) || 0;
            const environment = parseInt(document.getElementById('environment-standard')?.value) || 0;
            
            const overall = Math.round((management + teaching + outcomes + environment) / 4);
            updateDisplayValues('overall-quality', 'quality-progress', overall);
            
            departmentData.quality = { management, teaching, outcomes, environment };
        }

        // دالة مساعدة لتحديث العرض
        function updateDisplayValues(overallId, progressId, value) {
            const overallElement = document.getElementById(overallId);
            const progressElement = document.getElementById(progressId);
            
            if (overallElement) {
                overallElement.textContent = value + '%';
            }
            if (progressElement) {
                progressElement.style.width = value + '%';
            }
        }

        // دالة تحديث البيانات عند اختيار الدور
        function updateDepartmentData(roleId) {
            // تحديث القيم الأولية لكل قسم
            setTimeout(() => {
                switch(roleId) {
                    case 'math-coordinator':
                        updateMathOverall();
                        break;
                    case 'arabic-coordinator':
                        updateArabicOverall();
                        break;
                    case 'science-coordinator':
                        updateScienceOverall();
                        break;
                    case 'english-coordinator':
                        updateEnglishOverall();
                        break;
                    case 'educational-affairs':
                        updateEducationalOverall();
                        break;
                    case 'quality-coordinator':
                        updateQualityOverall();
                        break;
                }
            }, 100);
        }

        // دوال الحفظ لكل قسم
        function saveMathData() {
            const data = {
                department: 'math',
                overall: document.getElementById('math-overall').textContent,
                details: departmentData.math,
                challenges: document.getElementById('math-challenges')?.value || '',
                achievements: document.getElementById('math-achievements')?.value || '',
                recommendations: document.getElementById('math-recommendations')?.value || '',
                teacherRatings: teacherRatings.math,
                timestamp: new Date().toISOString()
            };
            
            // محاكاة إرسال البيانات للصفحة الرئيسية
            localStorage.setItem('mathData', JSON.stringify(data));
            
            showSuccessMessage(`تم حفظ بيانات قسم الرياضيات بنجاح!\nالتقييم الإجمالي: ${data.overall}\nتم إرسال البيانات للصفحة الرئيسية`);
        }

        function saveArabicData() {
            const data = {
                department: 'arabic',
                overall: document.getElementById('arabic-overall').textContent,
                details: departmentData.arabic,
                teacherRatings: teacherRatings.arabic,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('arabicData', JSON.stringify(data));
            showSuccessMessage(`تم حفظ بيانات قسم اللغة العربية بنجاح!\nالتقييم الإجمالي: ${data.overall}`);
        }

        function saveScienceData() {
            const data = {
                department: 'science',
                overall: document.getElementById('science-overall').textContent,
                details: departmentData.science,
                teacherRatings: teacherRatings.science,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('scienceData', JSON.stringify(data));
            showSuccessMessage(`تم حفظ بيانات قسم العلوم بنجاح!\nالتقييم الإجمالي: ${data.overall}`);
        }

        function saveEnglishData() {
            const data = {
                department: 'english',
                overall: document.getElementById('english-overall').textContent,
                details: departmentData.english,
                teacherRatings: teacherRatings.english,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('englishData', JSON.stringify(data));
            showSuccessMessage(`تم حفظ بيانات قسم اللغة الإنجليزية بنجاح!\nالتقييم الإجمالي: ${data.overall}`);
        }

        function saveEducationalData() {
            const data = {
                department: 'educational',
                overall: document.getElementById('educational-overall').textContent,
                details: departmentData.educational,
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('educationalData', JSON.stringify(data));
            showSuccessMessage(`تم حفظ بيانات الشؤون التعليمية بنجاح!\nالمؤشر الإجمالي: ${data.overall}`);
        }

        function saveStudentAffairsData() {
            const data = {
                department: 'student-affairs',
                dailyAttendance: document.getElementById('daily-attendance')?.value || '',
                lateStudents: document.getElementById('late-students')?.value || '',
                violations: document.getElementById('violations-count')?.value || '',
                resolvedCases: document.getElementById('resolved-cases')?.value || '',
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('studentAffairsData', JSON.stringify(data));
            showSuccessMessage('تم حفظ بيانات الشؤون الطلابية بنجاح!\nمؤشر الشؤون الطلابية: 88%');
        }

        function saveQualityData() {
            const data = {
                department: 'quality',
                overall: document.getElementById('overall-quality').textContent,
                details: departmentData.quality,
                completedDocs: document.getElementById('completed-documents')?.value || '',
                pendingDocs: document.getElementById('pending-documents')?.value || '',
                timestamp: new Date().toISOString()
            };
            
            localStorage.setItem('qualityData', JSON.stringify(data));
            showSuccessMessage(`تم حفظ تقرير الجودة الشامل بنجاح!\nمؤشر الجودة العام: ${data.overall}`);
        }

        // دوال إضافية للتقارير والأنشطة
        function previewMathReport() {
            alert('معاينة التقرير:\n- تحسن في طرق التدريس\n- حاجة لتطوير الأنشطة\n- متابعة إضافية مطلوبة لبعض المعلمين');
        }

        function generateMathPlan() {
            alert('جاري إنشاء خطة التحسين المخصصة لقسم الرياضيات...');
        }

        function generateArabicReport() {
            alert('جاري إنشاء تقرير مفصل عن قسم اللغة العربية...');
        }

        function planArabicWorkshop() {
            alert('فتح واجهة تخطيط ورش تدريبية متخصصة للغة العربية...');
        }

        function generateScienceReport() {
            alert('جاري إنشاء تقرير مفصل عن قسم العلوم...');
        }

        function scheduleLabMaintenance() {
            alert('فتح جدولة صيانة المختبرات العلمية...');
        }

        function generateEnglishReport() {
            alert('جاري إنشاء تقرير مفصل عن قسم اللغة الإنجليزية...');
        }

        function planEnglishActivities() {
            alert('فتح واجهة تخطيط الأنشطة اللغوية الإنجليزية...');
        }

        function generateEducationalReport() {
            alert('جاري إنشاء التقرير الشامل للشؤون التعليمية...');
        }

        function scheduleCoordinationMeeting() {
            alert('جاري جدولة اجتماع تنسيقي بين جميع منسقي الأقسام...');
        }

        function generateStudentReport() {
            alert('جاري إنشاء تقرير الشؤون الطلابية...');
        }

        function scheduleParentMeeting() {
            alert('فتح واجهة جدولة لقاءات أولياء الأمور...');
        }

        function generateQualityReport() {
            alert('جاري إنشاء تقرير الجودة الشامل...');
        }

        function scheduleQualityMeeting() {
            alert('تم جدولة اجتماع مراجعة الجودة للأسبوع القادم');
        }

        function exportQualityDocuments() {
            alert('جاري تصدير جميع وثائق الجودة...');
        }

        // دالة العودة للصفحة الرئيسية
        function goBackToMain() {
            if (confirm('هل تريد العودة للصفحة الرئيسية؟\nتأكد من حفظ بياناتك قبل المغادرة.')) {
                window.close();
            }
        }

        // دالة عرض رسالة النجاح
        function showSuccessMessage(message) {
            // إنشاء عنصر الإشعار
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(145deg, #27ae60, #2ecc71);
                color: white;
                padding: 20px;
                border-radius: 10px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
                z-index: 1000;
                max-width: 400px;
                font-weight: 600;
                animation: slideIn 0.5s ease;
            `;
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px;">
                    <span style="font-size: 1.5em;">✅</span>
                    <div>${message.replace(/\n/g, '<br>')}</div>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // إزالة الإشعار بعد 4 ثواني
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.5s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 500);
            }, 4000);
        }

        // إضافة تأثيرات CSS للإشعارات
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // تحديث تلقائي للبيانات عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            // تطبيق معالج الأحداث على جميع الحقول
            const inputs = document.querySelectorAll('input[type="number"]');
            inputs.forEach(input => {
                input.addEventListener('input', function() {
                    // تحديد القسم المناسب وتحديث البيانات
                    const id = this.id;
                    if (id.includes('math')) updateMathOverall();
                    else if (id.includes('arabic')) updateArabicOverall();
                    else if (id.includes('science')) updateScienceOverall();
                    else if (id.includes('english')) updateEnglishOverall();
                    else if (id.includes('curriculum-completion') || id.includes('teaching-quality') || 
                             id.includes('assessment-effectiveness') || id.includes('teacher-attendance')) {
                        updateEducationalOverall();
                    }
                    else if (id.includes('management-standard') || id.includes('teaching-standard') ||
                             id.includes('outcomes-standard') || id.includes('environment-standard')) {
                        updateQualityOverall();
                    }
                });
            });
        });
    </script>
</body>
</html>
